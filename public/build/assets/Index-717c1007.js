import{J as M,o as r,c as n,a as v,u as s,b as e,d as a,t as i,e as u,w as c,v as _,n as m,l as P,h as I,F as g,r as w,f as z,g as R,X as A,i as D,j as O,k as T}from"./app-8f82782a.js";import{u as B}from"./Crud-d0a125ff.js";import{u as G}from"./Validate-b15a984d.js";import{A as H}from"./AdminLayout-9037cb67.js";const J="/build/assets/4-a9a3f60d.png";const Q={class:"card card-action custom-container-card"},K={class:"card-header"},W=e("div",{class:"card-action-title align-items-center"},[e("h5",{class:"card-title"},"Rescuer")],-1),X={class:"card-action-element"},Y=e("i",{class:"ti ti-plus ti-xs me-1"},null,-1),Z={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},$={class:"offcanvas-header"},ee={id:"offCanvasFormLabel",class:"offcanvas-title"},se={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},te={class:"offcanvas-body mx-0 flex-grow-0 pt-0"},oe={class:"form-group mb-3"},le=e("label",{for:""},[a("Rescuer Type "),e("span",{class:"required"},"*")],-1),ae={class:"invalid-feedback"},re={class:"form-group mb-3"},ie=e("label",{for:""},[a("Rescuer Name "),e("span",{class:"required"},"*")],-1),ne={class:"invalid-feedback"},de={class:"form-group mb-3"},ce=e("label",{for:""},[a("Rescuer Contact Number "),e("span",{class:"required"},"*")],-1),ue={class:"invalid-feedback"},me={class:"form-group mb-3"},pe=e("label",{for:""},[a("Rescuer Contact Number Status "),e("span",{class:"required"},"*")],-1),ve=e("br",null,null,-1),_e={class:"radio radio-primary mr-3"},fe=e("span",null,"Verified",-1),be=e("span",{class:"checkmark"},null,-1),ge={class:"radio radio-primary mr-3"},he=e("span",null,"Unverified",-1),ye=e("span",{class:"checkmark"},null,-1),ke={class:"form-group mb-3"},xe=e("label",{for:""},[a("Rescuer Email "),e("span",{class:"required"},"*")],-1),we={class:"invalid-feedback"},Ce={class:"form-group mb-3"},Ve=e("label",{for:""},[a("Rescuer Messenger Link "),e("span",{class:"required"},"*")],-1),Ee={class:"invalid-feedback"},qe={class:"form-group mb-4 dropzone-profile-photo"},Se=e("label",{for:"name"},"Upload Photo",-1),Pe={key:1},Ie={class:"dropzone",ref:"dropzone"},Re=e("div",{class:"dz-message needsclick"}," Please Wait ",-1),Ue=[Re],je={key:2,class:"v-invalid-feedback"},Le={class:"form-group mb-3"},Fe=e("label",{for:""},[a("Rescue Services "),e("span",{class:"required"},"*")],-1),Ne={class:"form-group mb-3"},Me=e("label",{for:""},[a("Latitude "),e("span",{class:"required"},"*")],-1),ze={class:"invalid-feedback"},Ae={class:"form-group mb-3"},De=e("label",{for:""},[a("Longtitude "),e("span",{class:"required"},"*")],-1),Oe={class:"invalid-feedback"},Te={class:"form-group mb-3"},Be=e("label",{for:""},[a("Gender "),e("span",{class:"required"},"*")],-1),Ge={class:"invalid-feedback"},He={class:"form-group mb-3"},Je=e("label",{for:""},[a("Select Province "),e("span",{class:"required"},"*")],-1),Qe={class:"form-group mb-3"},Ke=e("label",{for:""},[a("Select City "),e("span",{class:"required"},"*")],-1),We=["disabled"],Xe={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},Ye=["disabled"],Ze={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},$e={class:"card-body"},es={class:"row justify-content-between"},ss={class:"col-3 pr-0"},ts={class:"d-flex align-items-center gap-2"},os=e("div",{class:"w-auto"},"Show",-1),ls={class:"flex-1"},as=["value"],rs=["value"],is=e("div",{class:"w-auto"},"entries",-1),ns=z('<div class="col-5 pl-0"><div class="d-flex gap-2 align-items-center"><div class="w-auto">Filter by Address:</div><div class="form-group" style="width:65%;"><select class="form-select" id="basic-default-country" required><option value="" hidden>Select Address</option><option value="usa">Private</option><option value="uk">Public</option></select></div></div></div>',1),ds={class:"col-auto"},cs={class:"d-flex gap-2 align-items-center"},us=e("div",{class:"w-auto"},"Search:",-1),ms={class:"flex-1"},ps=["value"],vs={class:"row"},_s=e("div",{class:"card custom-card__hero"},[e("div",{class:"user-profile-header-banner"},[e("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d124202.94479554158!2d121.12289103286562!3d13.391135706669152!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33bce8d27f6f844d%3A0xf7cc1b1c943ab71b!2sCalapan%2C%20Oriental%20Mindoro!5e0!3m2!1sen!2sph!4v1681094441544!5m2!1sen!2sph",width:"100%",height:"250",style:{border:"0","border-top-left-radius":"5px","border-top-right-radius":"5px"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})]),e("div",{class:"card-body text-center"},[e("div",{class:"dropdown btn-pinned"},[e("button",{type:"button",class:"btn dropdown-toggle hide-arrow p-0","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"ti ti-dots-vertical text-muted"})]),e("ul",{class:"dropdown-menu dropdown-menu-end"},[e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Share connection")]),e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Block connection")]),e("li",null,[e("hr",{class:"dropdown-divider"})]),e("li",null,[e("a",{class:"dropdown-item text-danger",href:"javascript:void(0);"},"Delete")])])]),e("div",{class:"flex-shrink-0 mt-n2 mx-sm-0 mx-auto hero-container"},[e("img",{src:J,alt:"Avatar Image",class:"d-block ms-0 rounded-circle user-profile-img hero-profile"})]),e("h4",{class:"mb-1 card-title card-text"},"Jane Doe"),e("h6",{class:"mb-0 card-text small-text",style:{"font-weight":"400"}},[e("a",{href:"https://www.google.com/maps/",target:"_blank"},"Open in Maps")]),e("h6",{class:"mb-0 card-text small-text",style:{"font-weight":"400"}},"London UK"),e("h6",{class:"mb-0 card-text small-text",style:{"font-weight":"400"}},"email@email.com"),e("h6",{class:"pb-1 card-text small-text"},"+63999132312312"),e("div",{class:"d-flex align-items-center justify-content-center my-3 gap-2"}),e("div",{class:"d-flex align-items-center justify-content-center"},[e("a",{href:"javascript:;",class:"btn btn-primary d-flex align-items-center me-3"},[e("i",{class:"ti-xs me-1 ti ti-truck me-1"}),a("Edit Rescuer")]),e("a",{href:"javascript:;",class:"btn btn-label-secondary btn-icon"},[e("i",{class:"ti ti-mail ti-sm"})])])])],-1),fs=[_s],bs={key:0,class:"card-footer py-3"},gs={class:"row justify-content-between"},hs={class:"col-auto"},ys={class:"table_info"},ks={class:"col-auto"},xs={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},ws={class:"pagination mb-0"},Cs=["innerHTML"],Vs={props:{data:Object,services:Object,provinces:Object},layout:H,data(){return{selectedProvince:null,filteredCities:[]}},watch:{selectedProvince(){this.selectedProvince?this.filteredCities=this.selectedProvince.cities:this.filteredCities=[]}},methods:{getCities(){this.selectedCity=null;const b=this.selectedProvince.id,h=this.provinces.find(d=>d.id===b);this.filteredCities=h.cities}}},Us=Object.assign(Vs,{__name:"Index",setup(b){M();const h={type:null,name:null,contact_number:null,is_contact_number_verified:0,email:null,messenger_link:null,latitude:null,longitude:null,province:null,city:null,gender:null,image:null,services:[]},{validateForm:d}=G(),U="rescuers";let{isLoadingComponents:j,paginatedData:p,form:o,createPromise:C,updatePromise:V,deletePromise:Es,handleCreate:E,serverQuery:q,handleServerQuery:S,handleEdit:qs,formState:y}=B(h,U);const L=[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Prefer not to say",value:"prefer_not_to_say"}],F=[{name:"Business",value:"business"},{name:"Individual",value:"individual"}];return(k,l)=>{const f=R("v-select"),N=R("dropzone"),x=T("select");return r(),n(g,null,[v(s(A),{title:"Rescuer"}),e("div",Q,[e("div",K,[W,e("div",X,[e("button",{class:"btn btn-primary",type:"button",onClick:l[0]||(l[0]=(...t)=>s(E)&&s(E)(...t)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"},[Y,a(" Add Rescuer ")]),e("div",Z,[e("div",$,[e("h5",ee,i(s(y)=="create"?"Add":"Update")+" Rescuer ",1),s(o).processing?u("",!0):(r(),n("button",se))]),e("div",te,[e("div",oe,[le,v(f,{options:F,modelValue:s(o).type,"onUpdate:modelValue":l[1]||(l[1]=t=>s(o).type=t),reduce:t=>t.id,label:"name",onInput:l[2]||(l[2]=t=>{s(o).clearErrors("type"),s(d)(["required"],s(o),t.target.value,"type")}),placeholder:"Select Rescuer Type"},null,8,["modelValue","reduce"]),e("div",ae,i(s(o).errors.type),1)]),e("div",re,[ie,c(e("input",{type:"text",class:m(["form-control",{"is-invalid":s(o).errors.name}]),"onUpdate:modelValue":l[3]||(l[3]=t=>s(o).name=t),onInput:l[4]||(l[4]=t=>{s(o).clearErrors("name"),s(d)(["required"],s(o),t.target.value,"name")}),placeholder:"Enter First Name"},null,34),[[_,s(o).name]]),e("div",ne,i(s(o).errors.name),1)]),e("div",de,[ce,c(e("input",{type:"text",class:m(["form-control",{"is-invalid":s(o).errors.contact_number}]),"onUpdate:modelValue":l[5]||(l[5]=t=>s(o).contact_number=t),onInput:l[6]||(l[6]=t=>{s(o).clearErrors("contact_number"),s(d)(["required"],s(o),t.target.value,"contact_number")}),placeholder:"Enter Rescuer Contact Number"},null,34),[[_,s(o).contact_number]]),e("div",ue,i(s(o).errors.contact_number),1)]),e("div",me,[pe,ve,e("label",_e,[c(e("input",{type:"radio",value:1,"onUpdate:modelValue":l[7]||(l[7]=t=>s(o).is_contact_number_verified=t)},null,512),[[P,s(o).is_contact_number_verified]]),fe,be]),e("label",ge,[c(e("input",{type:"radio",value:0,"onUpdate:modelValue":l[8]||(l[8]=t=>s(o).is_contact_number_verified=t),checked:""},null,512),[[P,s(o).is_contact_number_verified]]),he,ye])]),e("div",ke,[xe,c(e("input",{type:"email",class:m(["form-control",{"is-invalid":s(o).errors.email}]),"onUpdate:modelValue":l[9]||(l[9]=t=>s(o).email=t),onInput:l[10]||(l[10]=t=>{s(o).clearErrors("email"),s(d)(["required"],s(o),t.target.value,"email")}),placeholder:"Enter Email"},null,34),[[_,s(o).email]]),e("div",we,i(s(o).errors.email),1)]),e("div",Ce,[Ve,c(e("input",{type:"text",class:m(["form-control",{"is-invalid":s(o).errors.messenger_link}]),"onUpdate:modelValue":l[11]||(l[11]=t=>s(o).messenger_link=t),onInput:l[12]||(l[12]=t=>{s(o).clearErrors("messenger_link"),s(d)(["required"],s(o),t.target.value,"messenger_link")}),placeholder:"Enter Messenger Link"},null,34),[[_,s(o).messenger_link]]),e("div",Ee,i(s(o).errors.messenger_link),1)]),e("div",qe,[Se,s(j)?(r(),I(N,{key:0,collection:"image",url:k.route("api.media.upload"),type:"profile",model:"Rescue\\Rescuer",value:s(o).image,onInput:l[13]||(l[13]=t=>{s(o).image=t,s(o).clearErrors("image")}),message:"Drop files here or click to upload profile photo",acceptedFiles:"image/jpeg,image/png",onError:l[14]||(l[14]=t=>{t&&t[0]&&s(o).setError("image",t[0])})},null,8,["url","value"])):(r(),n("div",Pe,[e("div",Ie,Ue,512)])),s(o).errors.image?(r(),n("div",je,i(s(o).errors.image),1)):u("",!0)]),e("div",Le,[Fe,c(v(f,{options:b.services,modelValue:s(o).services,"onUpdate:modelValue":l[15]||(l[15]=t=>s(o).services=t),reduce:t=>t.id,label:"name",multiple:"",onInput:l[16]||(l[16]=t=>{s(o).clearErrors("services"),s(d)(["required"],s(o),t.target.value,"services")}),placeholder:"Select Services"},null,8,["options","modelValue","reduce"]),[[x]])]),e("div",Ne,[Me,c(e("input",{type:"text",class:m(["form-control",{"is-invalid":s(o).errors.latitude}]),"onUpdate:modelValue":l[17]||(l[17]=t=>s(o).latitude=t),onInput:l[18]||(l[18]=t=>{s(o).clearErrors("latitude"),s(d)(["required"],s(o),t.target.value,"latitude")}),placeholder:"Enter Latitude"},null,34),[[_,s(o).latitude]]),e("div",ze,i(s(o).errors.latitude),1)]),e("div",Ae,[De,c(e("input",{type:"text",class:m(["form-control",{"is-invalid":s(o).errors.longitude}]),"onUpdate:modelValue":l[19]||(l[19]=t=>s(o).longitude=t),onInput:l[20]||(l[20]=t=>{s(o).clearErrors("longitude"),s(d)(["required"],s(o),t.target.value,"longitude")}),placeholder:"Enter Longitude"},null,34),[[_,s(o).longitude]]),e("div",Oe,i(s(o).errors.longitude),1)]),e("div",Te,[Be,c(v(f,{options:L,modelValue:s(o).gender,"onUpdate:modelValue":l[21]||(l[21]=t=>s(o).gender=t),label:"name",onInput:l[22]||(l[22]=t=>{s(o).clearErrors("gender"),s(d)(["required"],s(o),t.target.value,"gender")}),placeholder:"Select Gender"},null,8,["modelValue"]),[[x]]),e("div",Ge,i(s(o).errors.gender),1)]),e("div",He,[Je,c(v(f,{options:b.provinces,modelValue:s(o).province,"onUpdate:modelValue":l[23]||(l[23]=t=>s(o).province=t),label:"name",onChange:l[24]||(l[24]=t=>k.getCities()),placeholder:"Select Province"},null,8,["options","modelValue"]),[[x]])]),e("div",Qe,[Ke,v(f,{options:k.filteredCities,label:"name",modelValue:s(o).city,"onUpdate:modelValue":l[25]||(l[25]=t=>s(o).city=t),placeholder:"Select City"},null,8,["options","modelValue"])]),s(y)=="create"?(r(),n("button",{key:0,class:"btn btn-primary",onClick:l[26]||(l[26]=(...t)=>s(C)&&s(C)(...t)),disabled:s(o).processing||s(o).hasErrors},[s(o).processing?(r(),n("span",Xe)):u("",!0),a(" Save ")],8,We)):u("",!0),s(y)=="update"?(r(),n("button",{key:1,class:"btn btn-primary",onClick:l[27]||(l[27]=(...t)=>s(V)&&s(V)(...t)),disabled:s(o).processing||s(o).hasErrors},[s(o).processing?(r(),n("span",Ze)):u("",!0),a(" Save changes ")],8,Ye)):u("",!0)])])])]),e("div",$e,[e("div",es,[e("div",ss,[e("div",ts,[os,e("div",ls,[e("select",{class:"form-select",value:s(q).perPage,onInput:l[28]||(l[28]=t=>s(S)("perPage",t.target.value))},[(r(),n(g,null,w([5,10,25,50,100],t=>e("option",{value:String(t),key:t},i(t),9,rs)),64))],40,as)]),is])]),ns,e("div",ds,[e("div",cs,[us,e("div",ms,[e("input",{type:"search",placeholder:"Search",class:"form-control",value:s(q).query,onInput:l[29]||(l[29]=t=>s(S)("query",t.target.value))},null,40,ps)])])])])]),e("div",vs,[(r(),n(g,null,w(3,t=>e("div",{class:"col-xl-4 col-lg-4 col-md-4 col-12",key:t},fs)),64))]),s(p)&&s(p).meta.links?(r(),n("div",bs,[e("div",gs,[e("div",hs,[e("div",ys," Showing "+i(s(p).meta.from)+" to "+i(s(p).meta.to)+" of "+i(s(p).meta.total)+" entries ",1)]),e("div",ks,[e("nav",xs,[e("ul",ws,[(r(!0),n(g,null,w(s(p).meta.links,t=>(r(),n("li",{class:"page-item",key:t},[(r(),I(O(t.url?"inertia-link":"button"),{class:m(["page-link",{active:t.active}]),href:t.url,only:["data","params"]},{default:D(()=>[e("span",{innerHTML:t.label},null,8,Cs)]),_:2},1032,["class","href"]))]))),128))])])])])])):u("",!0)])],64)}}});export{Us as default};
