import{J as z,o as n,c as r,a as h,u as e,b as s,d as l,t as i,e as c,w as v,v as b,n as _,h as q,F as f,r as C,i as g,g as w,X as L,j as T}from"./app-552e7585.js";import{u as R}from"./Crud-455ba261.js";import{u as B}from"./Validate-f0c03e94.js";import{A as K}from"./AdminLayout-9a920040.js";const O={class:"card card-action"},$={class:"card-header"},H=s("div",{class:"card-action-title align-items-center"},[s("h5",{class:"card-title"},"Repairs")],-1),J={class:"card-action-element"},W=s("i",{class:"ti ti-plus ti-xs me-1"},null,-1),X={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},G={class:"offcanvas-header"},Y={id:"offCanvasFormLabel",class:"offcanvas-title"},Z={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},D={class:"offcanvas-body pt-0 mx-0 flex-grow-0"},ee={class:"form-group mb-3"},se=s("label",{for:""},[l("Mechanic Name "),s("span",{class:"required"},"*")],-1),te={class:"invalid-feedback"},oe={class:"form-group mb-3"},ae=s("label",{for:""},[l("Mechanic Contact Number "),s("span",{class:"required"},"*")],-1),ne={class:"invalid-feedback"},re={class:"form-group mb-3"},ie=s("label",{for:""},[l("Mechanic Address "),s("span",{class:"required"},"*")],-1),le={class:"invalid-feedback"},de={class:"form-group mb-3"},ce=s("label",{for:""},[l("Vehicle "),s("span",{class:"required"},"*")],-1),ue={class:"invalid-feedback"},_e={class:"form-group mb-3"},me=s("label",{for:""},[l("Total Amount "),s("span",{class:"required"},"*")],-1),pe={class:"invalid-feedback"},he={class:"form-group mb-3"},ve=s("label",{for:""},"Status",-1),be={class:"invalid-feedback"},fe={class:"form-group mb-4 dropzone-profile-photo"},ge=s("label",{for:"name"},"Upload Photo",-1),ye={key:1},ke={class:"dropzone",ref:"dropzone"},Ce=s("div",{class:"dz-message needsclick"}," Please Wait ",-1),we=[Ce],xe={key:2,class:"v-invalid-feedback"},Ee=["disabled"],Ve={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},qe=["disabled"],Se={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},Ne={class:"card-body"},Ae={class:"row justify-content-between"},Qe={class:"col-auto"},je={class:"d-flex align-items-center gap-2"},Fe=s("div",{class:"w-auto"},"Show",-1),Ie={class:"flex-1"},Me=["value"],Pe=["value"],Ue=s("div",{class:"w-auto"},"entries",-1),ze={class:"col-auto"},Le={class:"d-flex gap-2 align-items-center"},Te=s("div",{class:"w-auto"},"Search:",-1),Re={class:"flex-1"},Be=["value"],Ke={class:"table-responsive text-nowrap"},Oe={class:"table"},$e={class:"table-light"},He=s("th",null,null,-1),Je=s("th",null,"Actions",-1),We={class:"table-border-bottom-0"},Xe={key:0},Ge=s("td",{colspan:"999999",class:"text-center"}," No item found ",-1),Ye=[Ge],Ze={class:"avatar avatar-lg"},De=["src"],es={style:{width:"35%"}},ss={style:{width:"20%"}},ts={style:{width:"30%"}},os={class:"d-flex gap-2"},as=["onClick"],ns=s("i",{class:"ti ti-pencil"},null,-1),rs=[ns],is=["onClick"],ls=s("i",{class:"ti ti-trash"},null,-1),ds=[ls],cs={key:0,class:"card-footer py-3 border-top"},us={class:"row justify-content-between"},_s={class:"col-auto"},ms={class:"table_info"},ps={class:"col-auto"},hs={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},vs={class:"pagination mb-0"},bs=["innerHTML"],fs={layout:K,props:{vehicles:Object},computed:{}},ws=Object.assign(fs,{__name:"Index",setup(S){z();const N={mechanic_name:null,mechanic_contact_number:null,mechanic_address:null,vehicle_id:null,total_amount:null,status:null,images:null},{validateForm:u}=B(),A="repair";let{isLoadingComponents:Q,paginatedData:d,form:o,createPromise:x,updatePromise:E,deletePromise:j,handleCreate:V,serverQuery:m,handleServerQuery:p,handleEdit:F,formState:y}=R(N,A);return(I,a)=>{const M=w("v-select"),P=w("dropzone"),k=w("table-header");return n(),r(f,null,[h(e(L),{title:"Repairs"}),s("div",O,[s("div",$,[H,s("div",J,[s("button",{class:"btn btn-primary",type:"button",onClick:a[0]||(a[0]=(...t)=>e(V)&&e(V)(...t)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"},[W,l(" Add Repair ")]),s("div",X,[s("div",G,[s("h5",Y,i(e(y)=="create"?"Add":"Update")+" Repair ",1),e(o).processing?c("",!0):(n(),r("button",Z))]),s("div",D,[s("div",ee,[se,v(s("input",{type:"text",class:_(["form-control",{"is-invalid":e(o).errors.mechanic_name}]),"onUpdate:modelValue":a[1]||(a[1]=t=>e(o).mechanic_name=t),onInput:a[2]||(a[2]=t=>{e(o).clearErrors("mechanic_name"),e(u)(["required"],e(o),t.target.value,"mechanic_name")}),placeholder:"Enter Mechanic Name"},null,34),[[b,e(o).mechanic_name]]),s("div",te,i(e(o).errors.mechanic_name),1)]),s("div",oe,[ae,v(s("input",{type:"number",class:_(["form-control",{"is-invalid":e(o).errors.mechanic_contact_number}]),"onUpdate:modelValue":a[3]||(a[3]=t=>e(o).mechanic_contact_number=t),onInput:a[4]||(a[4]=t=>{e(o).clearErrors("mechanic_contact_number"),e(u)(["required"],e(o),t.target.value,"mechanic_contact_number")}),placeholder:"Enter Mechanic Contact Number",min:"0"},null,34),[[b,e(o).mechanic_contact_number]]),s("div",ne,i(e(o).errors.mechanic_contact_number),1)]),s("div",re,[ie,v(s("input",{type:"text",class:_(["form-control",{"is-invalid":e(o).errors.mechanic_address}]),"onUpdate:modelValue":a[5]||(a[5]=t=>e(o).mechanic_address=t),onInput:a[6]||(a[6]=t=>{e(o).clearErrors("mechanic_address"),e(u)(["required"],e(o),t.target.value,"mechanic_address")}),placeholder:"Enter Mechanic Address"},null,34),[[b,e(o).mechanic_address]]),s("div",le,i(e(o).errors.mechanic_address),1)]),s("div",de,[ce,h(M,{options:S.vehicles,modelValue:e(o).vehicle_id,"onUpdate:modelValue":a[7]||(a[7]=t=>e(o).vehicle_id=t),reduce:t=>t.id,label:"model",onInput:a[8]||(a[8]=t=>{e(o).clearErrors("vehicle_id"),e(u)(["required"],e(o),t.target.value,"vehicle_id")}),placeholder:"Select Vehicle"},null,8,["options","modelValue","reduce"]),s("div",ue,i(e(o).errors.vehicle_id),1)]),s("div",_e,[me,v(s("input",{type:"number",class:_(["form-control",{"is-invalid":e(o).errors.total_amount}]),"onUpdate:modelValue":a[9]||(a[9]=t=>e(o).total_amount=t),onInput:a[10]||(a[10]=t=>{e(o).clearErrors("total_amount"),e(u)(["required"],e(o),t.target.value,"total_amount")}),placeholder:"Enter Total Amount"},null,34),[[b,e(o).total_amount]]),s("div",pe,i(e(o).errors.total_amount),1)]),s("div",he,[ve,v(s("input",{type:"text",class:_(["form-control",{"is-invalid":e(o).errors.status}]),"onUpdate:modelValue":a[11]||(a[11]=t=>e(o).status=t),onInput:a[12]||(a[12]=t=>{e(o).clearErrors("status"),e(u)(["required"],e(o),t.target.value,"status")}),placeholder:"Enter Status"},null,34),[[b,e(o).status]]),s("div",be,i(e(o).errors.status),1)]),s("div",fe,[ge,e(Q)?(n(),q(P,{key:0,collection:"images",url:I.route("api.media.upload"),type:"profile",model:"Repair\\Repair",value:e(o).images,onInput:a[13]||(a[13]=t=>{e(o).images=t,e(o).clearErrors("images")}),message:"Drop files here or click to upload profile photo",acceptedFiles:"image/jpeg,image/png",onError:a[14]||(a[14]=t=>{t&&t[0]&&e(o).setError("images",t[0])})},null,8,["url","value"])):(n(),r("div",ye,[s("div",ke,we,512)])),e(o).errors.images?(n(),r("div",xe,i(e(o).errors.images),1)):c("",!0)]),e(y)=="create"?(n(),r("button",{key:0,class:"btn btn-primary",onClick:a[15]||(a[15]=(...t)=>e(x)&&e(x)(...t)),disabled:e(o).processing||e(o).hasErrors},[e(o).processing?(n(),r("span",Ve)):c("",!0),l(" Save ")],8,Ee)):c("",!0),e(y)=="update"?(n(),r("button",{key:1,class:"btn btn-primary",onClick:a[16]||(a[16]=(...t)=>e(E)&&e(E)(...t)),disabled:e(o).processing||e(o).hasErrors},[e(o).processing?(n(),r("span",Se)):c("",!0),l(" Save changes ")],8,qe)):c("",!0)])])])]),s("div",Ne,[s("div",Ae,[s("div",Qe,[s("div",je,[Fe,s("div",Ie,[s("select",{class:"form-select",value:e(m).perPage,onInput:a[17]||(a[17]=t=>e(p)("perPage",t.target.value))},[(n(),r(f,null,C([5,10,25,50,100],t=>s("option",{value:String(t),key:t},i(t),9,Pe)),64))],40,Me)]),Ue])]),s("div",ze,[s("div",Le,[Te,s("div",Re,[s("input",{type:"search",placeholder:"Search",class:"form-control",value:e(m).query,onInput:a[18]||(a[18]=t=>e(p)("query",t.target.value))},null,40,Be)])])])])]),s("div",Ke,[s("table",Oe,[s("thead",$e,[s("tr",null,[He,h(k,{style:{width:"35%"},onClick:a[19]||(a[19]=t=>e(p)("sort","mechanic_name")),serverQuery:e(m),serverQueryKey:"mechanic_name"},{default:g(()=>[l(" Mechanic Name ")]),_:1},8,["serverQuery"]),h(k,{style:{width:"20%"},onClick:a[20]||(a[20]=t=>e(p)("sort","mechanic_contact_number")),serverQuery:e(m),serverQueryKey:"mechanic_contact_number"},{default:g(()=>[l(" Contact Number ")]),_:1},8,["serverQuery"]),h(k,{style:{width:"20%"},onClick:a[21]||(a[21]=t=>e(p)("sort","mechanic_address")),serverQuery:e(m),serverQueryKey:"mechanic_address"},{default:g(()=>[l(" Address ")]),_:1},8,["serverQuery"]),Je])]),s("tbody",We,[e(d).data.length<=0?(n(),r("tr",Xe,Ye)):c("",!0),(n(!0),r(f,null,C(e(d).data,t=>(n(),r("tr",{key:t},[s("td",null,[s("div",Ze,[s("img",{style:{"object-fit":"cover"},src:t.images_url,alt:"Avatar",class:"rounded-circle"},null,8,De)])]),s("td",es,i(t.mechanic_name),1),s("td",ss,i(t.mechanic_contact_number),1),s("td",ts,i(t.mechanic_address),1),s("td",null,[s("div",os,[s("a",{class:"btn btn-icon btn-label-primary waves-effect",onClick:U=>e(F)(t),href:"javascript:void(0);"},rs,8,as),s("a",{class:"btn btn-icon btn-label-danger waves-effect",href:"javascript:void(0);",onClick:U=>e(j)(t.id)},ds,8,is)])])]))),128))])])]),e(d)&&e(d).meta.links?(n(),r("div",cs,[s("div",us,[s("div",_s,[s("div",ms," Showing "+i(e(d).meta.from)+" to "+i(e(d).meta.to)+" of "+i(e(d).meta.total)+" entries ",1)]),s("div",ps,[s("nav",hs,[s("ul",vs,[(n(!0),r(f,null,C(e(d).meta.links,t=>(n(),r("li",{class:"page-item",key:t},[(n(),q(T(t.url?"inertia-link":"button"),{class:_(["page-link",{active:t.active}]),href:t.url,only:["data","params"]},{default:g(()=>[s("span",{innerHTML:t.label},null,8,bs)]),_:2},1032,["class","href"]))]))),128))])])])])])):c("",!0)])],64)}}});export{ws as default};
