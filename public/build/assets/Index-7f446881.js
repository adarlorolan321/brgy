import{J as O,o as a,a as n,b as h,u as s,d as e,e as r,t as i,f as m,n as c,w as u,v as _,q as j,g as U,F as f,h as b,i as L,X as T,j as A,k as $,m as G}from"./app-fc82053b.js";import{u as H}from"./Crud-4cc9f2c9.js";import{u as Q}from"./Validate-30abee96.js";import{A as J}from"./AdminLayout-5ced846c.js";import"./toastr-17c50d69.js";const W={class:"card card-action custom-container-card"},X={class:"card-header"},K=e("div",{class:"card-action-title align-items-center"},[e("h4",{class:"fw-bold mb-4 card-title pt-0"}," Rescuer ")],-1),Y={class:"card-action-element"},Z=e("i",{class:"ti ti-plus ti-xs me-1"},null,-1),ee={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},se={class:"offcanvas-header"},te={id:"offCanvasFormLabel",class:"offcanvas-title"},oe={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},le={class:"offcanvas-body mx-0 flex-grow-0 pt-0"},ie={class:"form-group mb-3"},ae=e("label",{for:""},[r("Rescuer Type "),e("span",{class:"required"},"*")],-1),re={class:"invalid-feedback"},ne={class:"form-group mb-3"},de=e("label",{for:""},[r("Rescuer Name "),e("span",{class:"required"},"*")],-1),ce={class:"invalid-feedback"},ue={class:"form-group mb-3"},me=e("label",{for:""},[r("Rescuer Contact Number "),e("span",{class:"required"},"*")],-1),_e={class:"invalid-feedback"},pe={class:"form-group mb-3"},ve=e("label",{for:""},[r("Rescuer Contact Number Status "),e("span",{class:"required"},"*")],-1),fe={class:"d-flex gap-3"},he={class:"form-check mt-3"},be=e("label",{class:"form-check-label",for:"defaultRadio1"}," Verified ",-1),ge={class:"form-check mt-3"},ye=e("label",{class:"form-check-label",for:"defaultRadio2"},"Unverified ",-1),ke={class:"invalid-feedback"},xe={class:"form-group mb-3"},we=e("label",{for:""},[r("Rescuer Email "),e("span",{class:"required"},"*")],-1),Ce={class:"invalid-feedback"},Ee={class:"form-group mb-3"},qe=e("label",{for:""},[r("Rescuer Messenger Link "),e("span",{class:"required"},"*")],-1),Ve={class:"invalid-feedback"},Re={class:"form-group mb-4 dropzone-profile-photo"},Ie=e("label",{for:"name"},"Upload Photo",-1),Se={key:1},je={class:"dropzone",ref:"dropzone"},Ue=e("div",{class:"dz-message needsclick"}," Please Wait ",-1),Le=[Ue],Pe={key:2,class:"v-invalid-feedback"},Fe={class:"form-group mb-3"},Ne=e("label",{for:""},[r("Rescue Services "),e("span",{class:"required"},"*")],-1),Me={class:"invalid-feedback"},ze={class:"form-group mb-3"},Be=e("label",{for:""},[r("Latitude "),e("span",{class:"required"},"*")],-1),De={class:"invalid-feedback"},Oe={class:"form-group mb-3"},Te=e("label",{for:""},[r("Longtitude "),e("span",{class:"required"},"*")],-1),Ae={class:"invalid-feedback"},$e={class:"form-group mb-3"},Ge=e("label",{for:""},[r("Gender "),e("span",{class:"required"},"*")],-1),He={class:"invalid-feedback"},Qe={class:"form-group mb-3"},Je=e("label",{for:""},[r("Select Province "),e("span",{class:"required"},"*")],-1),We={class:"invalid-feedback"},Xe={class:"form-group mb-3"},Ke=e("label",{for:""},[r("Select City "),e("span",{class:"required"},"*")],-1),Ye={class:"invalid-feedback"},Ze=["disabled"],es={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},ss=["disabled"],ts={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},os={class:"card-body"},ls={class:"row justify-content-between"},is={class:"col-3 pr-0"},as={class:"d-flex align-items-center gap-2"},rs=e("div",{class:"w-auto"},"Show",-1),ns={class:"flex-1"},ds=["value"],cs=["value"],us=e("div",{class:"w-auto"},"entries",-1),ms={class:"col-auto"},_s={class:"d-flex gap-2 align-items-center"},ps=e("div",{class:"w-auto"},"Search:",-1),vs={class:"flex-1"},fs=["value"],hs={class:"row"},bs={class:"card custom-card__hero"},gs=e("div",{class:"user-profile-header-banner"},[e("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d124202.94479554158!2d121.12289103286562!3d13.391135706669152!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33bce8d27f6f844d%3A0xf7cc1b1c943ab71b!2sCalapan%2C%20Oriental%20Mindoro!5e0!3m2!1sen!2sph!4v1681094441544!5m2!1sen!2sph",width:"100%",height:"250",style:{border:"0","border-top-left-radius":"5px","border-top-right-radius":"5px"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})],-1),ys={class:"card-body text-center"},ks={class:"dropdown btn-pinned"},xs=e("button",{type:"button",class:"btn dropdown-toggle hide-arrow p-0","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"ti ti-dots-vertical text-muted"})],-1),ws={class:"dropdown-menu dropdown-menu-end"},Cs=["onClick"],Es=e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Share connection")],-1),qs=e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Block connection")],-1),Vs=e("li",null,[e("hr",{class:"dropdown-divider"})],-1),Rs=["onClick"],Is={class:"flex-shrink-0 mt-n2 mx-sm-0 mx-auto hero-container"},Ss=["src"],js={class:"mb-1 card-title card-text"},Us=e("h6",{class:"mb-0 card-text small-text",style:{"font-weight":"400"}},[e("a",{href:"https://www.google.com/maps/",target:"_blank"},"Open in Maps")],-1),Ls={class:"mb-0 card-text small-text",style:{"font-weight":"400"}},Ps={class:"mb-0 card-text small-text",style:{"font-weight":"400"}},Fs={class:"mb-0 card-text small-text"},Ns={class:"mb-0 card-text small-text"},Ms=e("b",null," Latitude: ",-1),zs={class:"mb-0 card-text small-text"},Bs=e("b",null,"Longitude:",-1),Ds=e("div",{class:"d-flex align-items-center justify-content-center my-3 gap-2"},null,-1),Os={class:"d-flex align-items-center justify-content-center"},Ts=["onClick"],As=e("i",{class:"ti-xs me-1 ti ti-truck me-1"},null,-1),$s=["href"],Gs=e("i",{class:"ti ti-mail ti-sm"},null,-1),Hs=[Gs],Qs={class:"row d-flex justify-content-center"},Js={key:0,class:"col-md-11 card custom-card__hero"},Ws=e("div",{class:"card-body text-left"},[e("h5",{class:"text-center mb-0"},"No item found.")],-1),Xs=[Ws],Ks={key:0,class:"card-footer py-3"},Ys={class:"row justify-content-between"},Zs={class:"col-auto"},et={class:"table_info"},st={class:"col-auto"},tt={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},ot={class:"pagination mb-0"},lt=["innerHTML"],it={props:{data:Object,services:Object,provinces:Object},layout:J,data(){return{happy:null,filteredCities:[]}},watch:{happy(){this.happy?this.filteredCities=this.happy.cities:this.filteredCities=[]}},methods:{getCities(){form.city=null;const p=this.happy.id,g=this.provinces.find(d=>d.id===p);this.filteredCities=g.cities},openRescue(p){window.location.href=`/rescuers-logs/${p}`}}},ut=Object.assign(it,{__name:"Index",setup(p){O();const g={type:null,name:null,contact_number:null,is_contact_number_verified:0,email:null,messenger_link:null,latitude:null,longitude:null,province:null,city:null,gender:null,image:null,services:[]},{validateForm:d}=Q(),P="rescuers";let{isLoadingComponents:F,paginatedData:v,form:o,createPromise:w,updatePromise:C,deletePromise:N,handleCreate:E,serverQuery:q,handleServerQuery:V,handleEdit:M,formState:y}=H(g,P);const z=[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Prefer not to say",value:"prefer_not_to_say"}],B=[{name:"Business",value:"Business"},{name:"Individual",value:"Individual"}];return(R,l)=>{const k=L("v-select"),D=L("dropzone"),I=G("select");return a(),n(f,null,[h(s(T),{title:"Rescuer"}),e("div",W,[e("div",X,[K,e("div",Y,[e("button",{class:"btn btn-primary",type:"button",onClick:l[0]||(l[0]=(...t)=>s(E)&&s(E)(...t)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"},[Z,r(" Add Rescuer ")]),e("div",ee,[e("div",se,[e("h5",te,i(s(y)=="create"?"Add":"Update")+" Rescuer ",1),s(o).processing?m("",!0):(a(),n("button",oe))]),e("div",le,[e("div",ie,[ae,h(k,{options:B,modelValue:s(o).type,"onUpdate:modelValue":[l[1]||(l[1]=t=>s(o).type=t),l[2]||(l[2]=t=>s(o).clearErrors("type"))],reduce:t=>t.value,label:"name",class:c({"is-invalid":s(o).errors.type}),placeholder:"Select Rescuer Type"},null,8,["modelValue","reduce","class"]),e("div",re,i(s(o).errors.type),1)]),e("div",ne,[de,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.name}]),"onUpdate:modelValue":l[3]||(l[3]=t=>s(o).name=t),onInput:l[4]||(l[4]=t=>{s(o).clearErrors("name"),s(d)(["required"],s(o),t.target.value,"name")}),placeholder:"Enter First Name"},null,34),[[_,s(o).name]]),e("div",ce,i(s(o).errors.name),1)]),e("div",ue,[me,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.contact_number}]),"onUpdate:modelValue":l[5]||(l[5]=t=>s(o).contact_number=t),onInput:l[6]||(l[6]=t=>{s(o).clearErrors("contact_number"),s(d)(["required"],s(o),t.target.value,"contact_number")}),placeholder:"Enter Rescuer Contact Number"},null,34),[[_,s(o).contact_number]]),e("div",_e,i(s(o).errors.contact_number),1)]),e("div",pe,[ve,e("div",fe,[e("div",he,[u(e("input",{name:"default-radio-1",class:"form-check-input",type:"radio",value:1,id:"defaultRadio1","onUpdate:modelValue":l[7]||(l[7]=t=>s(o).is_contact_number_verified=t)},null,512),[[j,s(o).is_contact_number_verified]]),be]),e("div",ge,[u(e("input",{name:"default-radio-1",class:"form-check-input",type:"radio",value:0,id:"defaultRadio2","onUpdate:modelValue":l[8]||(l[8]=t=>s(o).is_contact_number_verified=t),checked:""},null,512),[[j,s(o).is_contact_number_verified]]),ye])]),e("div",ke,i(s(o).errors.is_contact_number_verified),1)]),e("div",xe,[we,u(e("input",{type:"email",class:c(["form-control",{"is-invalid":s(o).errors.email}]),"onUpdate:modelValue":l[9]||(l[9]=t=>s(o).email=t),onInput:l[10]||(l[10]=t=>{s(o).clearErrors("email"),s(d)(["required"],s(o),t.target.value,"email")}),placeholder:"Enter Email"},null,34),[[_,s(o).email]]),e("div",Ce,i(s(o).errors.email),1)]),e("div",Ee,[qe,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.messenger_link}]),"onUpdate:modelValue":l[11]||(l[11]=t=>s(o).messenger_link=t),onInput:l[12]||(l[12]=t=>{s(o).clearErrors("messenger_link"),s(d)(["required"],s(o),t.target.value,"messenger_link")}),placeholder:"Enter Messenger Link"},null,34),[[_,s(o).messenger_link]]),e("div",Ve,i(s(o).errors.messenger_link),1)]),e("div",Re,[Ie,s(F)?(a(),U(D,{key:0,collection:"image",url:R.route("api.media.upload"),type:"profile",model:"Rescue\\Rescuer",value:s(o).image,onInput:l[13]||(l[13]=t=>{s(o).image=t,s(o).clearErrors("image")}),message:"Drop files here or click to upload profile photo",acceptedFiles:"image/jpeg,image/png",onError:l[14]||(l[14]=t=>{t&&t[0]&&s(o).setError("image",t[0])})},null,8,["url","value"])):(a(),n("div",Se,[e("div",je,Le,512)])),s(o).errors.image?(a(),n("div",Pe,i(s(o).errors.image),1)):m("",!0)]),e("div",Fe,[Ne,u(h(k,{options:p.services,modelValue:s(o).services,"onUpdate:modelValue":l[15]||(l[15]=t=>s(o).services=t),reduce:t=>t.id,label:"name",multiple:"",onInput:l[16]||(l[16]=t=>{s(o).clearErrors("services"),s(d)(["required"],s(o),t.target.value,"services")}),placeholder:"Select Services",class:c(["custom-dropdown",{"is-invalid":s(o).errors.services}])},null,8,["options","modelValue","reduce","class"]),[[I]]),e("div",Me,[(a(!0),n(f,null,b(s(o).errors.services,(t,x)=>(a(),n("span",{key:x},i(t),1))),128))])]),e("div",ze,[Be,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.latitude}]),"onUpdate:modelValue":l[17]||(l[17]=t=>s(o).latitude=t),onInput:l[18]||(l[18]=t=>{s(o).clearErrors("latitude"),s(d)(["required"],s(o),t.target.value,"latitude")}),placeholder:"Enter Latitude"},null,34),[[_,s(o).latitude]]),e("div",De,i(s(o).errors.latitude),1)]),e("div",Oe,[Te,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.longitude}]),"onUpdate:modelValue":l[19]||(l[19]=t=>s(o).longitude=t),onInput:l[20]||(l[20]=t=>{s(o).clearErrors("longitude"),s(d)(["required"],s(o),t.target.value,"longitude")}),placeholder:"Enter Longitude"},null,34),[[_,s(o).longitude]]),e("div",Ae,i(s(o).errors.longitude),1)]),e("div",$e,[Ge,u(h(k,{options:z,modelValue:s(o).gender,"onUpdate:modelValue":l[21]||(l[21]=t=>s(o).gender=t),reduce:t=>t.value,label:"name",onInput:l[22]||(l[22]=t=>{s(o).clearErrors("gender"),s(d)(["required"],s(o),t.target.value,"gender")}),class:c({"is-invalid":s(o).errors.gender}),placeholder:"Select Gender"},null,8,["modelValue","reduce","class"]),[[I]]),e("div",He,i(s(o).errors.gender),1)]),e("div",Qe,[Je,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.province}]),"onUpdate:modelValue":l[23]||(l[23]=t=>s(o).province=t),onInput:l[24]||(l[24]=t=>{s(o).clearErrors("province"),s(d)(["required"],s(o),t.target.value,"province")}),placeholder:"Enter Province"},null,34),[[_,s(o).province]]),e("div",We,i(s(o).errors.province),1)]),e("div",Xe,[Ke,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.city}]),"onUpdate:modelValue":l[25]||(l[25]=t=>s(o).city=t),onInput:l[26]||(l[26]=t=>{s(o).clearErrors("city"),s(d)(["required"],s(o),t.target.value,"city")}),placeholder:"Enter City"},null,34),[[_,s(o).city]]),e("div",Ye,i(s(o).errors.city),1)]),s(y)=="create"?(a(),n("button",{key:0,class:"btn btn-primary",onClick:l[27]||(l[27]=(...t)=>s(w)&&s(w)(...t)),disabled:s(o).processing},[s(o).processing?(a(),n("span",es)):m("",!0),r(" Save ")],8,Ze)):m("",!0),s(y)=="update"?(a(),n("button",{key:1,class:"btn btn-primary",onClick:l[28]||(l[28]=(...t)=>s(C)&&s(C)(...t)),disabled:s(o).processing},[s(o).processing?(a(),n("span",ts)):m("",!0),r(" Save changes ")],8,ss)):m("",!0)])])])]),e("div",os,[e("div",ls,[e("div",is,[e("div",as,[rs,e("div",ns,[e("select",{class:"form-select",value:s(q).perPage,onInput:l[29]||(l[29]=t=>s(V)("perPage",t.target.value))},[(a(),n(f,null,b([5,10,25,50,100],t=>e("option",{value:String(t),key:t},i(t),9,cs)),64))],40,ds)]),us])]),e("div",ms,[e("div",_s,[ps,e("div",vs,[e("input",{type:"search",placeholder:"Search",class:"form-control",value:s(q).query,onInput:l[30]||(l[30]=t=>s(V)("query",t.target.value))},null,40,fs)])])])])]),e("div",hs,[(a(!0),n(f,null,b(p.data.data,(t,x)=>(a(),n("div",{class:"col-xl-4 col-lg-4 col-md-4 col-12",key:x},[e("div",bs,[gs,e("div",ys,[e("div",ks,[xs,e("ul",ws,[e("li",null,[e("a",{class:"dropdown-item",onClick:S=>R.openRescue(t.id)},"Rescue logs",8,Cs)]),Es,qs,Vs,e("li",null,[e("a",{class:"dropdown-item text-danger",href:"javascript:void(0);",onClick:S=>s(N)(t.id)},"Delete",8,Rs)])])]),e("div",Is,[e("img",{src:t.image_url,alt:"Avatar Image",class:"d-block ms-0 rounded-circle user-profile-img hero-profile"},null,8,Ss)]),e("h4",js,i(t.name),1),Us,e("h6",Ls,i(t.type),1),e("h6",Ps,i(t.contact_number),1),e("h6",Fs,i(t.email),1),e("h6",Ns,[Ms,r(" "+i(t.latitude),1)]),e("h6",zs,[Bs,r(" "+i(t.longitude),1)]),Ds,e("div",Os,[e("a",{href:"javascript:;",class:"btn btn-primary d-flex align-items-center me-3",onClick:S=>s(M)(t)},[As,r("Edit Rescuer")],8,Ts),e("a",{href:t.messenger_link,target:"_blank",class:"btn btn-label-secondary btn-icon"},Hs,8,$s)])])])]))),128)),e("div",Qs,[p.data?m("",!0):(a(),n("div",Js,Xs))])]),s(v)&&s(v).meta.links?(a(),n("div",Ks,[e("div",Ys,[e("div",Zs,[e("div",et," Showing "+i(s(v).meta.from)+" to "+i(s(v).meta.to)+" of "+i(s(v).meta.total)+" entries ",1)]),e("div",st,[e("nav",tt,[e("ul",ot,[(a(!0),n(f,null,b(s(v).meta.links,t=>(a(),n("li",{class:"page-item",key:t},[(a(),U($(t.url?"inertia-link":"button"),{class:c(["page-link",{active:t.active}]),href:t.url,only:["data","params"]},{default:A(()=>[e("span",{innerHTML:t.label},null,8,lt)]),_:2},1032,["class","href"]))]))),128))])])])])])):m("",!0)])],64)}}});export{ut as default};
