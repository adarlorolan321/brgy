import{J as O,o as i,c as n,a as h,u as t,b as e,d as r,t as l,e as m,w as c,v as _,n as u,l as I,h as S,F as f,r as b,g as j,X as T,i as A,j as G,k as H}from"./app-0a4d3e59.js";import{u as Q}from"./Crud-af23846f.js";import{u as J}from"./Validate-02a8d2cd.js";import{A as W}from"./AdminLayout-a5e93482.js";const X={class:"card card-action custom-container-card"},K={class:"card-header"},Y=e("div",{class:"card-action-title align-items-center"},[e("h5",{class:"card-title"},"Rescuer")],-1),Z={class:"card-action-element"},$=e("i",{class:"ti ti-plus ti-xs me-1"},null,-1),ee={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},te={class:"offcanvas-header"},se={id:"offCanvasFormLabel",class:"offcanvas-title"},oe={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},ae={class:"offcanvas-body mx-0 flex-grow-0 pt-0"},le={class:"form-group mb-3"},ie=e("label",{for:""},[r("Rescuer Type "),e("span",{class:"required"},"*")],-1),re={class:"invalid-feedback"},ne={class:"form-group mb-3"},de=e("label",{for:""},[r("Rescuer Name "),e("span",{class:"required"},"*")],-1),ce={class:"invalid-feedback"},ue={class:"form-group mb-3"},me=e("label",{for:""},[r("Rescuer Contact Number "),e("span",{class:"required"},"*")],-1),_e={class:"invalid-feedback"},pe={class:"form-group mb-3"},ve=e("label",{for:""},[r("Rescuer Contact Number Status "),e("span",{class:"required"},"*")],-1),fe={class:"d-flex gap-3"},he={class:"form-check mt-3"},be=e("label",{class:"form-check-label",for:"defaultRadio1"}," Verified ",-1),ge={class:"form-check mt-3"},ye=e("label",{class:"form-check-label",for:"defaultRadio2"},"Unverified ",-1),ke={class:"invalid-feedback"},xe={class:"form-group mb-3"},we=e("label",{for:""},[r("Rescuer Email "),e("span",{class:"required"},"*")],-1),Ce={class:"invalid-feedback"},Ee={class:"form-group mb-3"},qe=e("label",{for:""},[r("Rescuer Messenger Link "),e("span",{class:"required"},"*")],-1),Ve={class:"invalid-feedback"},Re={class:"form-group mb-4 dropzone-profile-photo"},Ie=e("label",{for:"name"},"Upload Photo",-1),Se={key:1},je={class:"dropzone",ref:"dropzone"},Ue=e("div",{class:"dz-message needsclick"}," Please Wait ",-1),Le=[Ue],Pe={key:2,class:"v-invalid-feedback"},Fe={class:"form-group mb-3"},Ne=e("label",{for:""},[r("Rescue Services "),e("span",{class:"required"},"*")],-1),Me={class:"invalid-feedback"},ze={class:"form-group mb-3"},Be=e("label",{for:""},[r("Latitude "),e("span",{class:"required"},"*")],-1),De={class:"invalid-feedback"},Oe={class:"form-group mb-3"},Te=e("label",{for:""},[r("Longtitude "),e("span",{class:"required"},"*")],-1),Ae={class:"invalid-feedback"},Ge={class:"form-group mb-3"},He=e("label",{for:""},[r("Gender "),e("span",{class:"required"},"*")],-1),Qe={class:"invalid-feedback"},Je={class:"form-group mb-3"},We=e("label",{for:""},[r("Select Province "),e("span",{class:"required"},"*")],-1),Xe={class:"form-group mb-3"},Ke=e("label",{for:""},[r("Select City "),e("span",{class:"required"},"*")],-1),Ye=["disabled"],Ze={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},$e=["disabled"],et={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},tt={class:"card-body"},st={class:"row justify-content-between"},ot={class:"col-3 pr-0"},at={class:"d-flex align-items-center gap-2"},lt=e("div",{class:"w-auto"},"Show",-1),it={class:"flex-1"},rt=["value"],nt=["value"],dt=e("div",{class:"w-auto"},"entries",-1),ct={class:"col-auto"},ut={class:"d-flex gap-2 align-items-center"},mt=e("div",{class:"w-auto"},"Search:",-1),_t={class:"flex-1"},pt=["value"],vt={class:"row"},ft={class:"card custom-card__hero"},ht=e("div",{class:"user-profile-header-banner"},[e("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d124202.94479554158!2d121.12289103286562!3d13.391135706669152!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33bce8d27f6f844d%3A0xf7cc1b1c943ab71b!2sCalapan%2C%20Oriental%20Mindoro!5e0!3m2!1sen!2sph!4v1681094441544!5m2!1sen!2sph",width:"100%",height:"250",style:{border:"0","border-top-left-radius":"5px","border-top-right-radius":"5px"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})],-1),bt={class:"card-body text-center"},gt={class:"dropdown btn-pinned"},yt=e("button",{type:"button",class:"btn dropdown-toggle hide-arrow p-0","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"ti ti-dots-vertical text-muted"})],-1),kt={class:"dropdown-menu dropdown-menu-end"},xt=e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Share connection")],-1),wt=e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Block connection")],-1),Ct=e("li",null,[e("hr",{class:"dropdown-divider"})],-1),Et=["onClick"],qt={class:"flex-shrink-0 mt-n2 mx-sm-0 mx-auto hero-container"},Vt=["src"],Rt={class:"mb-1 card-title card-text"},It=e("h6",{class:"mb-0 card-text small-text",style:{"font-weight":"400"}},[e("a",{href:"https://www.google.com/maps/",target:"_blank"},"Open in Maps")],-1),St={class:"mb-0 card-text small-text",style:{"font-weight":"400"}},jt={class:"mb-0 card-text small-text",style:{"font-weight":"400"}},Ut={class:"mb-0 card-text small-text"},Lt={class:"mb-0 card-text small-text"},Pt=e("b",null," Latitude: ",-1),Ft={class:"mb-0 card-text small-text"},Nt=e("b",null,"Longitude:",-1),Mt=e("div",{class:"d-flex align-items-center justify-content-center my-3 gap-2"},null,-1),zt={class:"d-flex align-items-center justify-content-center"},Bt=["onClick"],Dt=e("i",{class:"ti-xs me-1 ti ti-truck me-1"},null,-1),Ot=["href"],Tt=e("i",{class:"ti ti-mail ti-sm"},null,-1),At=[Tt],Gt={class:"row d-flex justify-content-center"},Ht={key:0,class:"col-md-11 card custom-card__hero"},Qt=e("div",{class:"card-body text-left"},[e("h5",{class:"text-center mb-0"},"No item found.")],-1),Jt=[Qt],Wt={key:0,class:"card-footer py-3"},Xt={class:"row justify-content-between"},Kt={class:"col-auto"},Yt={class:"table_info"},Zt={class:"col-auto"},$t={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},es={class:"pagination mb-0"},ts=["innerHTML"],ss={props:{data:Object,services:Object,provinces:Object},layout:W,data(){return{happy:null,filteredCities:[]}},watch:{happy(){this.happy?this.filteredCities=this.happy.cities:this.filteredCities=[]}},methods:{getCities(){form.city=null;const v=this.happy.id,g=this.provinces.find(d=>d.id===v);this.filteredCities=g.cities}}},rs=Object.assign(ss,{__name:"Index",setup(v){O();const g={type:null,name:null,contact_number:null,is_contact_number_verified:0,email:null,messenger_link:null,latitude:null,longitude:null,province:null,city:null,gender:null,image:null,services:[]},{validateForm:d}=J(),U="rescuers";let{isLoadingComponents:L,paginatedData:p,form:o,createPromise:w,updatePromise:C,deletePromise:P,handleCreate:E,serverQuery:q,handleServerQuery:V,handleEdit:F,formState:y}=Q(g,U);const N=[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Prefer not to say",value:"prefer_not_to_say"}],M=[{name:"Business",value:"Business"},{name:"Individual",value:"Individual"}];return(z,a)=>{const k=j("v-select"),B=j("dropzone"),R=H("select");return i(),n(f,null,[h(t(T),{title:"Rescuer"}),e("div",X,[e("div",K,[Y,e("div",Z,[e("button",{class:"btn btn-primary",type:"button",onClick:a[0]||(a[0]=(...s)=>t(E)&&t(E)(...s)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"},[$,r(" Add Rescuer ")]),e("div",ee,[e("div",te,[e("h5",se,l(t(y)=="create"?"Add":"Update")+" Rescuer ",1),t(o).processing?m("",!0):(i(),n("button",oe))]),e("div",ae,[e("div",le,[ie,h(k,{options:M,modelValue:t(o).type,"onUpdate:modelValue":a[1]||(a[1]=s=>t(o).type=s),reduce:s=>s.value,label:"name",onInput:a[2]||(a[2]=s=>{t(o).clearErrors("type"),t(d)(["required"],t(o),s.target.value,"type")}),placeholder:"Select Rescuer Type"},null,8,["modelValue","reduce"]),e("div",re,l(t(o).errors.type),1)]),e("div",ne,[de,c(e("input",{type:"text",class:u(["form-control",{"is-invalid":t(o).errors.name}]),"onUpdate:modelValue":a[3]||(a[3]=s=>t(o).name=s),onInput:a[4]||(a[4]=s=>{t(o).clearErrors("name"),t(d)(["required"],t(o),s.target.value,"name")}),placeholder:"Enter First Name"},null,34),[[_,t(o).name]]),e("div",ce,l(t(o).errors.name),1)]),e("div",ue,[me,c(e("input",{type:"text",class:u(["form-control",{"is-invalid":t(o).errors.contact_number}]),"onUpdate:modelValue":a[5]||(a[5]=s=>t(o).contact_number=s),onInput:a[6]||(a[6]=s=>{t(o).clearErrors("contact_number"),t(d)(["required"],t(o),s.target.value,"contact_number")}),placeholder:"Enter Rescuer Contact Number"},null,34),[[_,t(o).contact_number]]),e("div",_e,l(t(o).errors.contact_number),1)]),e("div",pe,[ve,e("div",fe,[e("div",he,[c(e("input",{name:"default-radio-1",class:"form-check-input",type:"radio",value:1,id:"defaultRadio1","onUpdate:modelValue":a[7]||(a[7]=s=>t(o).is_contact_number_verified=s)},null,512),[[I,t(o).is_contact_number_verified]]),be]),e("div",ge,[c(e("input",{name:"default-radio-1",class:"form-check-input",type:"radio",value:0,id:"defaultRadio2","onUpdate:modelValue":a[8]||(a[8]=s=>t(o).is_contact_number_verified=s),checked:""},null,512),[[I,t(o).is_contact_number_verified]]),ye])]),e("div",ke,l(t(o).errors.is_contact_number_verified),1)]),e("div",xe,[we,c(e("input",{type:"email",class:u(["form-control",{"is-invalid":t(o).errors.email}]),"onUpdate:modelValue":a[9]||(a[9]=s=>t(o).email=s),onInput:a[10]||(a[10]=s=>{t(o).clearErrors("email"),t(d)(["required"],t(o),s.target.value,"email")}),placeholder:"Enter Email"},null,34),[[_,t(o).email]]),e("div",Ce,l(t(o).errors.email),1)]),e("div",Ee,[qe,c(e("input",{type:"text",class:u(["form-control",{"is-invalid":t(o).errors.messenger_link}]),"onUpdate:modelValue":a[11]||(a[11]=s=>t(o).messenger_link=s),onInput:a[12]||(a[12]=s=>{t(o).clearErrors("messenger_link"),t(d)(["required"],t(o),s.target.value,"messenger_link")}),placeholder:"Enter Messenger Link"},null,34),[[_,t(o).messenger_link]]),e("div",Ve,l(t(o).errors.messenger_link),1)]),e("div",Re,[Ie,t(L)?(i(),S(B,{key:0,collection:"image",url:z.route("api.media.upload"),type:"profile",model:"Rescue\\Rescuer",value:t(o).image,onInput:a[13]||(a[13]=s=>{t(o).image=s,t(o).clearErrors("image")}),message:"Drop files here or click to upload profile photo",acceptedFiles:"image/jpeg,image/png",onError:a[14]||(a[14]=s=>{s&&s[0]&&t(o).setError("image",s[0])})},null,8,["url","value"])):(i(),n("div",Se,[e("div",je,Le,512)])),t(o).errors.image?(i(),n("div",Pe,l(t(o).errors.image),1)):m("",!0)]),e("div",Fe,[Ne,c(h(k,{options:v.services,modelValue:t(o).services,"onUpdate:modelValue":a[15]||(a[15]=s=>t(o).services=s),reduce:s=>s.id,label:"name",multiple:"",onInput:a[16]||(a[16]=s=>{t(o).clearErrors("services"),t(d)(["required"],t(o),s.target.value,"services")}),placeholder:"Select Services",class:u(["custom-dropdown",{"is-invalid":t(o).errors.services}])},null,8,["options","modelValue","reduce","class"]),[[R]]),e("div",Me,[(i(!0),n(f,null,b(t(o).errors.services,(s,x)=>(i(),n("span",{key:x},l(s),1))),128))])]),e("div",ze,[Be,c(e("input",{type:"text",class:u(["form-control",{"is-invalid":t(o).errors.latitude}]),"onUpdate:modelValue":a[17]||(a[17]=s=>t(o).latitude=s),onInput:a[18]||(a[18]=s=>{t(o).clearErrors("latitude"),t(d)(["required"],t(o),s.target.value,"latitude")}),placeholder:"Enter Latitude"},null,34),[[_,t(o).latitude]]),e("div",De,l(t(o).errors.latitude),1)]),e("div",Oe,[Te,c(e("input",{type:"text",class:u(["form-control",{"is-invalid":t(o).errors.longitude}]),"onUpdate:modelValue":a[19]||(a[19]=s=>t(o).longitude=s),onInput:a[20]||(a[20]=s=>{t(o).clearErrors("longitude"),t(d)(["required"],t(o),s.target.value,"longitude")}),placeholder:"Enter Longitude"},null,34),[[_,t(o).longitude]]),e("div",Ae,l(t(o).errors.longitude),1)]),e("div",Ge,[He,c(h(k,{options:N,modelValue:t(o).gender,"onUpdate:modelValue":a[21]||(a[21]=s=>t(o).gender=s),reduce:s=>s.value,label:"name",onInput:a[22]||(a[22]=s=>{t(o).clearErrors("gender"),t(d)(["required"],t(o),s.target.value,"gender")}),placeholder:"Select Gender"},null,8,["modelValue","reduce"]),[[R]]),e("div",Qe,l(t(o).errors.gender),1)]),e("div",Je,[We,c(e("input",{type:"text",class:u(["form-control",{"is-invalid":t(o).errors.province}]),"onUpdate:modelValue":a[23]||(a[23]=s=>t(o).province=s),onInput:a[24]||(a[24]=s=>{t(o).clearErrors("province"),t(d)(["required"],t(o),s.target.value,"province")}),placeholder:"Enter Province"},null,34),[[_,t(o).province]])]),e("div",Xe,[Ke,c(e("input",{type:"text",class:u(["form-control",{"is-invalid":t(o).errors.city}]),"onUpdate:modelValue":a[25]||(a[25]=s=>t(o).city=s),onInput:a[26]||(a[26]=s=>{t(o).clearErrors("city"),t(d)(["required"],t(o),s.target.value,"city")}),placeholder:"Enter City"},null,34),[[_,t(o).city]])]),t(y)=="create"?(i(),n("button",{key:0,class:"btn btn-primary",onClick:a[27]||(a[27]=(...s)=>t(w)&&t(w)(...s)),disabled:t(o).processing},[t(o).processing?(i(),n("span",Ze)):m("",!0),r(" Save ")],8,Ye)):m("",!0),t(y)=="update"?(i(),n("button",{key:1,class:"btn btn-primary",onClick:a[28]||(a[28]=(...s)=>t(C)&&t(C)(...s)),disabled:t(o).processing},[t(o).processing?(i(),n("span",et)):m("",!0),r(" Save changes ")],8,$e)):m("",!0)])])])]),e("div",tt,[e("div",st,[e("div",ot,[e("div",at,[lt,e("div",it,[e("select",{class:"form-select",value:t(q).perPage,onInput:a[29]||(a[29]=s=>t(V)("perPage",s.target.value))},[(i(),n(f,null,b([5,10,25,50,100],s=>e("option",{value:String(s),key:s},l(s),9,nt)),64))],40,rt)]),dt])]),e("div",ct,[e("div",ut,[mt,e("div",_t,[e("input",{type:"search",placeholder:"Search",class:"form-control",value:t(q).query,onInput:a[30]||(a[30]=s=>t(V)("query",s.target.value))},null,40,pt)])])])])]),e("div",vt,[(i(!0),n(f,null,b(v.data.data,(s,x)=>(i(),n("div",{class:"col-xl-4 col-lg-4 col-md-4 col-12",key:x},[e("div",ft,[ht,e("div",bt,[e("div",gt,[yt,e("ul",kt,[xt,wt,Ct,e("li",null,[e("a",{class:"dropdown-item text-danger",href:"javascript:void(0);",onClick:D=>t(P)(s.id)},"Delete",8,Et)])])]),e("div",qt,[e("img",{src:s.image_url,alt:"Avatar Image",class:"d-block ms-0 rounded-circle user-profile-img hero-profile"},null,8,Vt)]),e("h4",Rt,l(s.name),1),It,e("h6",St,l(s.type),1),e("h6",jt,l(s.contact_number),1),e("h6",Ut,l(s.email),1),e("h6",Lt,[Pt,r(" "+l(s.latitude),1)]),e("h6",Ft,[Nt,r(" "+l(s.longitude),1)]),Mt,e("div",zt,[e("a",{href:"javascript:;",class:"btn btn-primary d-flex align-items-center me-3",onClick:D=>t(F)(s)},[Dt,r("Edit Rescuer")],8,Bt),e("a",{href:s.messenger_link,target:"_blank",class:"btn btn-label-secondary btn-icon"},At,8,Ot)])])])]))),128)),e("div",Gt,[v.data?m("",!0):(i(),n("div",Ht,Jt))])]),t(p)&&t(p).meta.links?(i(),n("div",Wt,[e("div",Xt,[e("div",Kt,[e("div",Yt," Showing "+l(t(p).meta.from)+" to "+l(t(p).meta.to)+" of "+l(t(p).meta.total)+" entries ",1)]),e("div",Zt,[e("nav",$t,[e("ul",es,[(i(!0),n(f,null,b(t(p).meta.links,s=>(i(),n("li",{class:"page-item",key:s},[(i(),S(G(s.url?"inertia-link":"button"),{class:u(["page-link",{active:s.active}]),href:s.url,only:["data","params"]},{default:A(()=>[e("span",{innerHTML:s.label},null,8,ts)]),_:2},1032,["class","href"]))]))),128))])])])])])):m("",!0)])],64)}}});export{rs as default};
