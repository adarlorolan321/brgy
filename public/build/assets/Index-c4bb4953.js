import{u as L}from"./Crud-0ce7e264.js";import{u as P}from"./Validate-49b5ea40.js";import{J as $,o,c as n,a as u,u as t,b as e,t as r,e as c,n as k,d as m,F as p,r as b,i as h,h as C,X as A,f as F,j as E}from"./app-2048afcb.js";import{A as B}from"./AdminLayout-266bd91d.js";const K={class:"card card-action"},T={class:"card-header"},I=e("div",{class:"card-action-title align-items-center"},[e("h5",{class:"card-title"},"Repairs")],-1),M={class:"card-action-element"},O={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},q={class:"offcanvas-header"},H={id:"offCanvasFormLabel",class:"offcanvas-title"},R={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},U={class:"offcanvas-body pt-0 mx-0 flex-grow-0"},z={class:"form-group mb-5"},J=e("label",{for:""},"Status",-1),X={class:"invalid-feedback"},G=["disabled"],W={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},Y=["disabled"],Z={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},D={class:"card-body"},ee={class:"row justify-content-between"},te={class:"col-auto"},se={class:"d-flex align-items-center gap-2"},ae=e("div",{class:"w-auto"},"Show",-1),oe={class:"flex-1"},ne=["value"],ie=["value"],re=e("div",{class:"w-auto"},"entries",-1),le={class:"col-auto"},ce={class:"d-flex gap-2 align-items-center"},de=e("div",{class:"w-auto"},"Search:",-1),_e={class:"flex-1"},ue=["value"],me={class:"table-responsive text-nowrap"},he={class:"table"},ve={class:"table-light"},pe=e("th",null,null,-1),fe=e("th",null,"Actions",-1),be={class:"table-border-bottom-0"},ye={key:0},ge=e("td",{colspan:"999999",class:"text-center"}," No item found ",-1),ke=[ge],Ce=e("td",null,[e("div",{class:"avatar avatar-lg"},[e("img",{style:{"object-fit":"cover"},src:"",alt:"Avatar",class:"rounded-circle"})])],-1),we={style:{width:"35%"}},xe={style:{width:"20%"}},Se={style:{width:"30%"}},Qe={class:"d-flex gap-2"},je=["onClick"],Ne=e("i",{class:"ti ti-pencil"},null,-1),Ve=[Ne],Le=["onClick"],Pe=e("i",{class:"ti ti-trash"},null,-1),$e=[Pe],Ae={key:0,class:"card-footer py-3 border-top"},Fe={class:"row justify-content-between"},Ee={class:"col-auto"},Be={class:"table_info"},Ke={class:"col-auto"},Te={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},Ie={class:"pagination mb-0"},Me=["innerHTML"],Oe={layout:B,props:{vehicles:Object},computed:{}},We=Object.assign(Oe,{__name:"Index",setup(qe){$();const w={mechanic_name:null,mechanic_contact_number:null,mechanic_address:null,vehicle_id:null,item:null,total_amount:null,status:null};P();const x="repair";let{isLoadingComponents:He,paginatedData:l,form:i,createPromise:y,updatePromise:g,deletePromise:S,handleCreate:Re,serverQuery:d,handleServerQuery:_,handleEdit:Q,formState:f}=L(w,x);const j=["Pending","Confirmed"];return(Ue,a)=>{const N=C("v-select"),v=C("table-header");return o(),n(p,null,[u(t(A),{title:"Repairs"}),e("div",K,[e("div",T,[I,e("div",M,[e("div",O,[e("div",q,[e("h5",H,r(t(f)=="create"?"Add":"Update")+" Status ",1),t(i).processing?c("",!0):(o(),n("button",R))]),e("div",U,[e("div",z,[J,u(N,{options:j,modelValue:t(i).status,"onUpdate:modelValue":[a[0]||(a[0]=s=>t(i).status=s),a[1]||(a[1]=s=>t(i).clearErrors("status"))],label:"name",class:k(["custom-select",{"is-invalid":t(i).errors.status}]),placeholder:"Select Status"},null,8,["modelValue","class"]),e("div",X,r(t(i).errors.status),1)]),t(f)=="create"?(o(),n("button",{key:0,class:"btn btn-primary",onClick:a[2]||(a[2]=(...s)=>t(y)&&t(y)(...s)),disabled:t(i).processing||t(i).hasErrors},[t(i).processing?(o(),n("span",W)):c("",!0),m(" Save ")],8,G)):c("",!0),t(f)=="update"?(o(),n("button",{key:1,class:"btn btn-primary",onClick:a[3]||(a[3]=(...s)=>t(g)&&t(g)(...s)),disabled:t(i).processing||t(i).hasErrors,style:{"margin-top":"-35px"}},[t(i).processing?(o(),n("span",Z)):c("",!0),m(" Save changes ")],8,Y)):c("",!0)])])])]),e("div",D,[e("div",ee,[e("div",te,[e("div",se,[ae,e("div",oe,[e("select",{class:"form-select",value:t(d).perPage,onInput:a[4]||(a[4]=s=>t(_)("perPage",s.target.value))},[(o(),n(p,null,b([5,10,25,50,100],s=>e("option",{value:String(s),key:s},r(s),9,ie)),64))],40,ne)]),re])]),e("div",le,[e("div",ce,[de,e("div",_e,[e("input",{type:"search",placeholder:"Search",class:"form-control",value:t(d).query,onInput:a[5]||(a[5]=s=>t(_)("query",s.target.value))},null,40,ue)])])])])]),e("div",me,[e("table",he,[e("thead",ve,[e("tr",null,[pe,u(v,{style:{width:"35%"},onClick:a[6]||(a[6]=s=>t(_)("sort","mechanic_name")),serverQuery:t(d),serverQueryKey:"mechanic_name"},{default:h(()=>[m(" Status ")]),_:1},8,["serverQuery"]),u(v,{style:{width:"35%"},onClick:a[7]||(a[7]=s=>t(_)("sort","mechanic_name")),serverQuery:t(d),serverQueryKey:"mechanic_name"},{default:h(()=>[m(" Mechanic Name ")]),_:1},8,["serverQuery"]),u(v,{style:{width:"20%"},onClick:a[8]||(a[8]=s=>t(_)("sort","mechanic_contact_number")),serverQuery:t(d),serverQueryKey:"mechanic_contact_number"},{default:h(()=>[m(" Contact Number ")]),_:1},8,["serverQuery"]),u(v,{style:{width:"20%"},onClick:a[9]||(a[9]=s=>t(_)("sort","mechanic_address")),serverQuery:t(d),serverQueryKey:"mechanic_address"},{default:h(()=>[m(" Address ")]),_:1},8,["serverQuery"]),fe])]),e("tbody",be,[t(l).data.length<=0?(o(),n("tr",ye,ke)):c("",!0),(o(!0),n(p,null,b(t(l).data,s=>(o(),n("tr",{key:s},[Ce,e("td",null,r(s.status),1),e("td",we,r(s.mechanic_name),1),e("td",xe,r(s.mechanic_contact_number),1),e("td",Se,r(s.mechanic_address),1),e("td",null,[e("div",Qe,[e("a",{class:"btn btn-icon btn-label-primary waves-effect",onClick:V=>t(Q)(s),href:"javascript:void(0);"},Ve,8,je),e("a",{class:"btn btn-icon btn-label-danger waves-effect",href:"javascript:void(0);",onClick:V=>t(S)(s.id)},$e,8,Le)])])]))),128))])])]),t(l)&&t(l).meta.links?(o(),n("div",Ae,[e("div",Fe,[e("div",Ee,[e("div",Be," Showing "+r(t(l).meta.from)+" to "+r(t(l).meta.to)+" of "+r(t(l).meta.total)+" entries ",1)]),e("div",Ke,[e("nav",Te,[e("ul",Ie,[(o(!0),n(p,null,b(t(l).meta.links,s=>(o(),n("li",{class:"page-item",key:s},[(o(),F(E(s.url?"inertia-link":"button"),{class:k(["page-link",{active:s.active}]),href:s.url,only:["data","params"]},{default:h(()=>[e("span",{innerHTML:s.label},null,8,Me)]),_:2},1032,["class","href"]))]))),128))])])])])])):c("",!0)])],64)}}});export{We as default};
