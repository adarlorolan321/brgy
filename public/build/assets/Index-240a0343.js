import{J as I,o as n,c as i,a as v,u as e,b as t,d as l,t as r,e as d,w as p,v as b,n as _,F as f,r as C,i as y,g as V,X as j,h as L,j as T}from"./app-b6ed454b.js";import{u as U}from"./Crud-7c9320c0.js";import{u as P}from"./Validate-e505f425.js";import{A as $}from"./AdminLayout-49655d2f.js";const B={class:"card card-action"},R={class:"card-header"},K=t("div",{class:"card-action-title align-items-center"},[t("h5",{class:"card-title"},"Repairs")],-1),O={class:"card-action-element"},H=t("i",{class:"ti ti-plus ti-xs me-1"},null,-1),z={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},J={class:"offcanvas-header"},X={id:"offCanvasFormLabel",class:"offcanvas-title"},G={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},W={class:"offcanvas-body pt-0 mx-0 flex-grow-0"},Y={class:"form-group mb-3"},Z=t("label",{for:""},[l("Mechanic Name "),t("span",{class:"required"},"*")],-1),D={class:"invalid-feedback"},ee={class:"form-group mb-3"},te=t("label",{for:""},[l("Mechanic Contact Number "),t("span",{class:"required"},"*")],-1),se={class:"invalid-feedback"},ae={class:"form-group mb-3"},oe=t("label",{for:""},[l("Mechanic Address "),t("span",{class:"required"},"*")],-1),ne={class:"invalid-feedback"},re={class:"form-group mb-3"},ie=t("label",{for:""},[l("Vehicle "),t("span",{class:"required"},"*")],-1),le={class:"invalid-feedback"},ce={class:"form-group mb-3"},de=t("label",{for:""},[l("Total Amount "),t("span",{class:"required"},"*")],-1),ue={class:"invalid-feedback"},_e={class:"form-group mb-3"},me=t("label",{for:""},"Status",-1),he={class:"invalid-feedback"},ve=["disabled"],pe={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},be=["disabled"],fe={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},ye={class:"card-body"},ge={class:"row justify-content-between"},ke={class:"col-auto"},Ce={class:"d-flex align-items-center gap-2"},we=t("div",{class:"w-auto"},"Show",-1),xe={class:"flex-1"},Ee=["value"],Ve=["value"],qe=t("div",{class:"w-auto"},"entries",-1),Se={class:"col-auto"},Ne={class:"d-flex gap-2 align-items-center"},Qe=t("div",{class:"w-auto"},"Search:",-1),Ae={class:"flex-1"},Me=["value"],Fe={class:"table-responsive text-nowrap"},Ie={class:"table"},je={class:"table-light"},Le=t("th",null,"Actions",-1),Te={class:"table-border-bottom-0"},Ue={key:0},Pe=t("td",{colspan:"999999",class:"text-center"}," No item found ",-1),$e=[Pe],Be={style:{width:"35%"}},Re={style:{width:"20%"}},Ke={style:{width:"30%"}},Oe={class:"d-flex gap-2"},He=["onClick"],ze=t("i",{class:"ti ti-pencil"},null,-1),Je=[ze],Xe=["onClick"],Ge=t("i",{class:"ti ti-trash"},null,-1),We=[Ge],Ye={key:0,class:"card-footer py-3 border-top"},Ze={class:"row justify-content-between"},De={class:"col-auto"},et={class:"table_info"},tt={class:"col-auto"},st={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},at={class:"pagination mb-0"},ot=["innerHTML"],nt={layout:$,props:{vehicles:Object},computed:{}},_t=Object.assign(nt,{__name:"Index",setup(q){I();const S={mechanic_name:null,mechanic_contact_number:null,mechanic_address:null,vehicle_id:null,total_amount:null,status:null},{validateForm:u}=P(),N="repair";let{isLoadingComponents:rt,paginatedData:c,form:a,createPromise:w,updatePromise:x,deletePromise:Q,handleCreate:E,serverQuery:m,handleServerQuery:h,handleEdit:A,formState:g}=U(S,N);return(it,o)=>{const M=V("v-select"),k=V("table-header");return n(),i(f,null,[v(e(j),{title:"Repairs"}),t("div",B,[t("div",R,[K,t("div",O,[t("button",{class:"btn btn-primary",type:"button",onClick:o[0]||(o[0]=(...s)=>e(E)&&e(E)(...s)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"},[H,l(" Add Repair ")]),t("div",z,[t("div",J,[t("h5",X,r(e(g)=="create"?"Add":"Update")+" Repair ",1),e(a).processing?d("",!0):(n(),i("button",G))]),t("div",W,[t("div",Y,[Z,p(t("input",{type:"text",class:_(["form-control",{"is-invalid":e(a).errors.mechanic_name}]),"onUpdate:modelValue":o[1]||(o[1]=s=>e(a).mechanic_name=s),onInput:o[2]||(o[2]=s=>{e(a).clearErrors("mechanic_name"),e(u)(["required"],e(a),s.target.value,"mechanic_name")}),placeholder:"Enter Mechanic Name"},null,34),[[b,e(a).mechanic_name]]),t("div",D,r(e(a).errors.mechanic_name),1)]),t("div",ee,[te,p(t("input",{type:"number",class:_(["form-control",{"is-invalid":e(a).errors.mechanic_contact_number}]),"onUpdate:modelValue":o[3]||(o[3]=s=>e(a).mechanic_contact_number=s),onInput:o[4]||(o[4]=s=>{e(a).clearErrors("mechanic_contact_number"),e(u)(["required"],e(a),s.target.value,"mechanic_contact_number")}),placeholder:"Enter Mechanic Contact Number",min:"0"},null,34),[[b,e(a).mechanic_contact_number]]),t("div",se,r(e(a).errors.mechanic_contact_number),1)]),t("div",ae,[oe,p(t("input",{type:"text",class:_(["form-control",{"is-invalid":e(a).errors.mechanic_address}]),"onUpdate:modelValue":o[5]||(o[5]=s=>e(a).mechanic_address=s),onInput:o[6]||(o[6]=s=>{e(a).clearErrors("mechanic_address"),e(u)(["required"],e(a),s.target.value,"mechanic_address")}),placeholder:"Enter Mechanic Address"},null,34),[[b,e(a).mechanic_address]]),t("div",ne,r(e(a).errors.mechanic_address),1)]),t("div",re,[ie,v(M,{options:q.vehicles,modelValue:e(a).vehicle_id,"onUpdate:modelValue":o[7]||(o[7]=s=>e(a).vehicle_id=s),reduce:s=>s.id,label:"model",onInput:o[8]||(o[8]=s=>{e(a).clearErrors("vehicle_id"),e(u)(["required"],e(a),s.target.value,"vehicle_id")}),placeholder:"Select Vehicle"},null,8,["options","modelValue","reduce"]),t("div",le,r(e(a).errors.vehicle_id),1)]),t("div",ce,[de,p(t("input",{type:"number",class:_(["form-control",{"is-invalid":e(a).errors.total_amount}]),"onUpdate:modelValue":o[9]||(o[9]=s=>e(a).total_amount=s),onInput:o[10]||(o[10]=s=>{e(a).clearErrors("total_amount"),e(u)(["required"],e(a),s.target.value,"total_amount")}),placeholder:"Enter Total Amount"},null,34),[[b,e(a).total_amount]]),t("div",ue,r(e(a).errors.total_amount),1)]),t("div",_e,[me,p(t("input",{type:"text",class:_(["form-control",{"is-invalid":e(a).errors.status}]),"onUpdate:modelValue":o[11]||(o[11]=s=>e(a).status=s),onInput:o[12]||(o[12]=s=>{e(a).clearErrors("status"),e(u)(["required"],e(a),s.target.value,"status")}),placeholder:"Enter Status"},null,34),[[b,e(a).status]]),t("div",he,r(e(a).errors.status),1)]),e(g)=="create"?(n(),i("button",{key:0,class:"btn btn-primary",onClick:o[13]||(o[13]=(...s)=>e(w)&&e(w)(...s)),disabled:e(a).processing||e(a).hasErrors},[e(a).processing?(n(),i("span",pe)):d("",!0),l(" Save ")],8,ve)):d("",!0),e(g)=="update"?(n(),i("button",{key:1,class:"btn btn-primary",onClick:o[14]||(o[14]=(...s)=>e(x)&&e(x)(...s)),disabled:e(a).processing||e(a).hasErrors},[e(a).processing?(n(),i("span",fe)):d("",!0),l(" Save changes ")],8,be)):d("",!0)])])])]),t("div",ye,[t("div",ge,[t("div",ke,[t("div",Ce,[we,t("div",xe,[t("select",{class:"form-select",value:e(m).perPage,onInput:o[15]||(o[15]=s=>e(h)("perPage",s.target.value))},[(n(),i(f,null,C([5,10,25,50,100],s=>t("option",{value:String(s),key:s},r(s),9,Ve)),64))],40,Ee)]),qe])]),t("div",Se,[t("div",Ne,[Qe,t("div",Ae,[t("input",{type:"search",placeholder:"Search",class:"form-control",value:e(m).query,onInput:o[16]||(o[16]=s=>e(h)("query",s.target.value))},null,40,Me)])])])])]),t("div",Fe,[t("table",Ie,[t("thead",je,[t("tr",null,[v(k,{style:{width:"35%"},onClick:o[17]||(o[17]=s=>e(h)("sort","mechanic_name")),serverQuery:e(m),serverQueryKey:"mechanic_name"},{default:y(()=>[l(" Mechanic Name ")]),_:1},8,["serverQuery"]),v(k,{style:{width:"20%"},onClick:o[18]||(o[18]=s=>e(h)("sort","mechanic_contact_number")),serverQuery:e(m),serverQueryKey:"mechanic_contact_number"},{default:y(()=>[l(" Contact Number ")]),_:1},8,["serverQuery"]),v(k,{style:{width:"20%"},onClick:o[19]||(o[19]=s=>e(h)("sort","mechanic_address")),serverQuery:e(m),serverQueryKey:"mechanic_address"},{default:y(()=>[l(" Address ")]),_:1},8,["serverQuery"]),Le])]),t("tbody",Te,[e(c).data.length<=0?(n(),i("tr",Ue,$e)):d("",!0),(n(!0),i(f,null,C(e(c).data,s=>(n(),i("tr",{key:s},[t("td",Be,r(s.mechanic_name),1),t("td",Re,r(s.mechanic_contact_number),1),t("td",Ke,r(s.mechanic_address),1),t("td",null,[t("div",Oe,[t("a",{class:"btn btn-icon btn-label-primary waves-effect",onClick:F=>e(A)(s),href:"javascript:void(0);"},Je,8,He),t("a",{class:"btn btn-icon btn-label-danger waves-effect",href:"javascript:void(0);",onClick:F=>e(Q)(s.id)},We,8,Xe)])])]))),128))])])]),e(c)&&e(c).meta.links?(n(),i("div",Ye,[t("div",Ze,[t("div",De,[t("div",et," Showing "+r(e(c).meta.from)+" to "+r(e(c).meta.to)+" of "+r(e(c).meta.total)+" entries ",1)]),t("div",tt,[t("nav",st,[t("ul",at,[(n(!0),i(f,null,C(e(c).meta.links,s=>(n(),i("li",{class:"page-item",key:s},[(n(),L(T(s.url?"inertia-link":"button"),{class:_(["page-link",{active:s.active}]),href:s.url,only:["data","params"]},{default:y(()=>[t("span",{innerHTML:s.label},null,8,ot)]),_:2},1032,["class","href"]))]))),128))])])])])])):d("",!0)])],64)}}});export{_t as default};
