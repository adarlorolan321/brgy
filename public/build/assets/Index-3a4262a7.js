import{u as V}from"./Crud-03eba16c.js";import{u as K}from"./Validate-5edbc491.js";import{J as A,o as a,c as r,a as d,u as s,b as e,t as n,e as h,n as k,d as u,F as y,r as f,i as _,h as C,X as L,f as P,j as F}from"./app-7de72bb7.js";import{A as E}from"./AdminLayout-9132733c.js";const B={class:"card card-action"},T={class:"card-header"},I=e("div",{class:"card-action-title align-items-center"},[e("h5",{class:"card-title"},"Repairs")],-1),M={class:"card-action-element"},O={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},q={class:"offcanvas-header"},H={id:"offCanvasFormLabel",class:"offcanvas-title"},R={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},U={class:"offcanvas-body pt-0 mx-0 flex-grow-0"},z={class:"form-group mb-5"},J=e("label",{for:""},"Status",-1),X={class:"invalid-feedback"},G=["disabled"],W={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},Y=["disabled"],Z={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},D={class:"card-body"},ee={class:"row justify-content-between"},se={class:"col-auto"},te={class:"d-flex align-items-center gap-2"},oe=e("div",{class:"w-auto"},"Show",-1),ne={class:"flex-1"},ae=["value"],re=["value"],ie=e("div",{class:"w-auto"},"entries",-1),le={class:"col-auto"},ce={class:"d-flex gap-2 align-items-center"},de=e("div",{class:"w-auto"},"Search:",-1),ue={class:"flex-1"},_e=["value"],me={class:"table-responsive text-nowrap"},ve={class:"table"},he={class:"table-light"},ye=e("th",null,null,-1),pe=e("th",null,"Actions",-1),fe={class:"table-border-bottom-0"},be={key:0},ge=e("td",{colspan:"999999",class:"text-center"}," No item found ",-1),ke=[ge],Ce={class:"avatar avatar-lg"},Qe=["src"],we={style:{width:"35%"}},xe={style:{width:"20%"}},Se={style:{width:"30%"}},$e={class:"d-flex gap-2"},je=["onClick"],Ne=e("i",{class:"ti ti-pencil"},null,-1),Ve=[Ne],Ke=["onClick"],Ae=e("i",{class:"ti ti-trash"},null,-1),Le=[Ae],Pe={key:0,class:"card-footer py-3 border-top"},Fe={class:"row justify-content-between"},Ee={class:"col-auto"},Be={class:"table_info"},Te={class:"col-auto"},Ie={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},Me={class:"pagination mb-0"},Oe=["innerHTML"],qe={layout:E,props:{vehicles:Object},computed:{}},Ye=Object.assign(qe,{__name:"Index",setup(He){A();const Q={mechanic_name:null,mechanic_contact_number:null,mechanic_address:null,vehicle_id:null,item:null,total_amount:null,status:null};K();const w="repair";let{isLoadingComponents:Re,paginatedData:m,form:i,createPromise:b,updatePromise:g,deletePromise:x,handleCreate:Ue,serverQuery:l,handleServerQuery:c,handleEdit:S,formState:p}=V(Q,w);const $=["Pending","Confirmed"];return(ze,o)=>{const j=C("v-select"),v=C("table-header");return a(),r(y,null,[d(s(L),{title:"Repairs"}),e("div",B,[e("div",T,[I,e("div",M,[e("div",O,[e("div",q,[e("h5",H,n(s(p)=="create"?"Add":"Update")+" Status ",1),s(i).processing?h("",!0):(a(),r("button",R))]),e("div",U,[e("div",z,[J,d(j,{options:$,modelValue:s(i).status,"onUpdate:modelValue":[o[0]||(o[0]=t=>s(i).status=t),o[1]||(o[1]=t=>s(i).clearErrors("status"))],label:"name",class:k(["custom-select",{"is-invalid":s(i).errors.status}]),placeholder:"Select Status"},null,8,["modelValue","class"]),e("div",X,n(s(i).errors.status),1)]),s(p)=="create"?(a(),r("button",{key:0,class:"btn btn-primary",onClick:o[2]||(o[2]=(...t)=>s(b)&&s(b)(...t)),disabled:s(i).processing||s(i).hasErrors},[s(i).processing?(a(),r("span",W)):h("",!0),u(" Save ")],8,G)):h("",!0),s(p)=="update"?(a(),r("button",{key:1,class:"btn btn-primary",onClick:o[3]||(o[3]=(...t)=>s(g)&&s(g)(...t)),disabled:s(i).processing||s(i).hasErrors,style:{"margin-top":"-35px"}},[s(i).processing?(a(),r("span",Z)):h("",!0),u(" Save changes ")],8,Y)):h("",!0)])])])]),e("div",D,[e("div",ee,[e("div",se,[e("div",te,[oe,e("div",ne,[e("select",{class:"form-select",value:s(l).perPage,onInput:o[4]||(o[4]=t=>s(c)("perPage",t.target.value))},[(a(),r(y,null,f([5,10,25,50,100],t=>e("option",{value:String(t),key:t},n(t),9,re)),64))],40,ae)]),ie])]),e("div",le,[e("div",ce,[de,e("div",ue,[e("input",{type:"search",placeholder:"Search",class:"form-control",value:s(l).query,onInput:o[5]||(o[5]=t=>s(c)("query",t.target.value))},null,40,_e)])])])])]),e("div",me,[e("table",ve,[e("thead",he,[e("tr",null,[ye,d(v,{style:{width:"35%"},onClick:o[6]||(o[6]=t=>s(c)("sort","mechanic_name")),serverQuery:s(l),serverQueryKey:"mechanic_name"},{default:_(()=>[u(" Dryver Name ")]),_:1},8,["serverQuery"]),d(v,{style:{width:"35%"},onClick:o[7]||(o[7]=t=>s(c)("sort","mechanic_name")),serverQuery:s(l),serverQueryKey:"mechanic_name"},{default:_(()=>[u(" Vehicle ")]),_:1},8,["serverQuery"]),d(v,{style:{width:"35%"},onClick:o[8]||(o[8]=t=>s(c)("sort","mechanic_name")),serverQuery:s(l),serverQueryKey:"mechanic_name"},{default:_(()=>[u(" Service ")]),_:1},8,["serverQuery"]),d(v,{style:{width:"35%"},onClick:o[9]||(o[9]=t=>s(c)("sort","mechanic_name")),serverQuery:s(l),serverQueryKey:"mechanic_name"},{default:_(()=>[u(" Amount ")]),_:1},8,["serverQuery"]),d(v,{style:{width:"35%"},onClick:o[10]||(o[10]=t=>s(c)("sort","mechanic_name")),serverQuery:s(l),serverQueryKey:"mechanic_name"},{default:_(()=>[u(" Status ")]),_:1},8,["serverQuery"]),d(v,{style:{width:"35%"},onClick:o[11]||(o[11]=t=>s(c)("sort","mechanic_name")),serverQuery:s(l),serverQueryKey:"mechanic_name"},{default:_(()=>[u(" Mechanic Name ")]),_:1},8,["serverQuery"]),d(v,{style:{width:"20%"},onClick:o[12]||(o[12]=t=>s(c)("sort","mechanic_contact_number")),serverQuery:s(l),serverQueryKey:"mechanic_contact_number"},{default:_(()=>[u(" Contact Number ")]),_:1},8,["serverQuery"]),d(v,{style:{width:"20%"},onClick:o[13]||(o[13]=t=>s(c)("sort","mechanic_address")),serverQuery:s(l),serverQueryKey:"mechanic_address"},{default:_(()=>[u(" Address ")]),_:1},8,["serverQuery"]),pe])]),e("tbody",fe,[s(m).data.length<=0?(a(),r("tr",be,ke)):h("",!0),(a(!0),r(y,null,f(s(m).data,t=>(a(),r("tr",{key:t},[e("td",null,[e("div",Ce,[e("img",{style:{"object-fit":"cover"},src:t.vehicle.image_url,alt:"Avatar",class:"rounded-circle"},null,8,Qe)])]),e("td",null,n(t.user.name),1),e("td",null,n(t.vehicle.vehicle_brand_id)+" / "+n(t.vehicle.model)+" / "+n(t.vehicle.vehicle_type_id)+" / "+n(t.vehicle.year),1),e("td",null,n(t.item),1),e("td",null,n(t.total_amount),1),e("td",null,n(t.status),1),e("td",we,n(t.mechanic_name),1),e("td",xe,n(t.mechanic_contact_number),1),e("td",Se,n(t.mechanic_address),1),e("td",null,[e("div",$e,[e("a",{class:"btn btn-icon btn-label-primary waves-effect",onClick:N=>s(S)(t),href:"javascript:void(0);"},Ve,8,je),e("a",{class:"btn btn-icon btn-label-danger waves-effect",href:"javascript:void(0);",onClick:N=>s(x)(t.id)},Le,8,Ke)])])]))),128))])])]),s(m)&&s(m).meta.links?(a(),r("div",Pe,[e("div",Fe,[e("div",Ee,[e("div",Be," Showing "+n(s(m).meta.from)+" to "+n(s(m).meta.to)+" of "+n(s(m).meta.total)+" entries ",1)]),e("div",Te,[e("nav",Ie,[e("ul",Me,[(a(!0),r(y,null,f(s(m).meta.links,t=>(a(),r("li",{class:"page-item",key:t},[(a(),P(F(t.url?"inertia-link":"button"),{class:k(["page-link",{active:t.active}]),href:t.url,only:["data","params"]},{default:_(()=>[e("span",{innerHTML:t.label},null,8,Oe)]),_:2},1032,["class","href"]))]))),128))])])])])])):h("",!0)])],64)}}});export{Ye as default};
