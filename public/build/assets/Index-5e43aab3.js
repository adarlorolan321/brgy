import{J as I,o as n,c as i,a as g,u as s,b as e,t as l,d as c,w as R,v as V,n as y,e as k,f as _,F as d,r as p,g as C,h as w,X as B,i as Q}from"./app-5b5e10f9.js";import{u as T}from"./Crud-18ba0921.js";import{u as q}from"./Validate-ccd5609b.js";import{A as M}from"./AdminLayout-18d3ad7f.js";const H={class:"card card-action"},O={class:"card-header"},U=e("div",{class:"card-action-title align-items-center"},[e("h5",{class:"card-title"},"Rescue Services")],-1),D={class:"card-action-element"},J={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},K={class:"offcanvas-header"},W={id:"offCanvasFormLabel",class:"offcanvas-title"},X={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},$={class:"offcanvas-body mt-4 mx-0 flex-grow-0"},G={class:"form-group mb-3"},Y=e("label",{for:""},[_("Name "),e("span",{class:"required"},"*")],-1),Z={class:"invalid-feedback"},ee={class:"form-group mb-4 dropzone-profile-photo"},se=e("label",{for:"name"},"Brand Icon",-1),te={key:1},oe={class:"dropzone",ref:"dropzone"},ae=e("div",{class:"dz-message needsclick"}," Please Wait ",-1),ne=[ae],ie={key:2,class:"v-invalid-feedback"},re=["disabled"],le={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},ce=["disabled"],de={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},_e={class:"card-body"},ue={class:"row justify-content-between"},ve={class:"col-auto"},me={class:"d-flex align-items-center gap-2"},pe=e("div",{class:"w-auto"},"Show",-1),he={class:"flex-1"},fe=["value"],be=["value"],ge=e("div",{class:"w-auto"},"entries",-1),ye={class:"col-auto"},ke={class:"d-flex gap-2 align-items-center"},Ce=e("div",{class:"w-auto"},"Search:",-1),we={class:"flex-1"},xe=["value"],Se={class:"table-responsive text-nowrap"},Fe={class:"table"},Ee={class:"table-light"},je=e("th",null,null,-1),Ne=e("th",null,"Actions",-1),ze={class:"table-border-bottom-0"},Le={key:0},Pe=e("td",{colspan:"999999",class:"text-center"}," No item found ",-1),Ae=[Pe],Ie={class:"avatar avatar-lg"},Re=["src"],Ve={style:{width:"90%"}},Be={class:"d-flex gap-2"},Qe=["onClick"],Te=e("i",{class:"ti ti-pencil"},null,-1),qe=[Te],Me=["onClick"],He=e("i",{class:"ti ti-trash"},null,-1),Oe=[He],Ue={key:0,class:"card-footer py-3 border-top"},De={class:"row justify-content-between"},Je={class:"col-auto"},Ke={class:"table_info"},We={class:"col-auto"},Xe={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},$e={class:"pagination mb-0"},Ge=["innerHTML"],Ye={layout:M},as=Object.assign(Ye,{__name:"Index",setup(Ze){I();const x={name:null,icon:null},{validateForm:S}=q(),F="rescue_services";let{isLoadingComponents:E,paginatedData:r,form:a,createPromise:h,updatePromise:f,deletePromise:j,handleCreate:b,serverQuery:u,handleServerQuery:v,handleEdit:N,formState:m}=T(x,F);return(z,o)=>{const L=w("dropzone"),P=w("table-header");return n(),i(d,null,[g(s(B),{title:"Rescue Services"}),e("div",H,[e("div",O,[U,e("div",D,[e("button",{class:"btn btn-primary",type:"button",onClick:o[0]||(o[0]=(...t)=>s(b)&&s(b)(...t)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"}," Add Rescue Service "),e("div",J,[e("div",K,[e("h5",W,l(s(m)=="create"?"Add":"Update")+" Rescue Service ",1),s(a).processing?c("",!0):(n(),i("button",X))]),e("div",$,[e("div",G,[Y,R(e("input",{type:"text",class:y(["form-control",{"is-invalid":s(a).errors.name}]),"onUpdate:modelValue":o[1]||(o[1]=t=>s(a).name=t),onInput:o[2]||(o[2]=t=>{s(a).clearErrors("name"),s(S)(["required"],s(a),t.target.value,"name")}),placeholder:"Enter name"},null,34),[[V,s(a).name]]),e("div",Z,l(s(a).errors.name),1)]),e("div",ee,[se,s(E)?(n(),k(L,{key:0,collection:"icon",url:z.route("api.media.upload"),type:"profile",model:"Rescue\\RescueService",value:s(a).icon,onInput:o[3]||(o[3]=t=>{s(a).icon=t,s(a).clearErrors("icon")}),message:"Drop files here or click to upload profile photo",acceptedFiles:"image/jpeg,image/png",onError:o[4]||(o[4]=t=>{t&&t[0]&&s(a).setError("icon",t[0])})},null,8,["url","value"])):(n(),i("div",te,[e("div",oe,ne,512)])),s(a).errors.icon?(n(),i("div",ie,l(s(a).errors.icon),1)):c("",!0)]),s(m)=="create"?(n(),i("button",{key:0,class:"btn btn-primary",onClick:o[5]||(o[5]=(...t)=>s(h)&&s(h)(...t)),disabled:s(a).processing||s(a).hasErrors},[s(a).processing?(n(),i("span",le)):c("",!0),_(" Save ")],8,re)):c("",!0),s(m)=="update"?(n(),i("button",{key:1,class:"btn btn-primary",onClick:o[6]||(o[6]=(...t)=>s(f)&&s(f)(...t)),disabled:s(a).processing||s(a).hasErrors},[s(a).processing?(n(),i("span",de)):c("",!0),_(" Save changes ")],8,ce)):c("",!0)])])])]),e("div",_e,[e("div",ue,[e("div",ve,[e("div",me,[pe,e("div",he,[e("select",{class:"form-select",value:s(u).perPage,onInput:o[7]||(o[7]=t=>s(v)("perPage",t.target.value))},[(n(),i(d,null,p([5,10,25,50,100],t=>e("option",{value:String(t),key:t},l(t),9,be)),64))],40,fe)]),ge])]),e("div",ye,[e("div",ke,[Ce,e("div",we,[e("input",{type:"search",placeholder:"Search",class:"form-control",value:s(u).query,onInput:o[8]||(o[8]=t=>s(v)("query",t.target.value))},null,40,xe)])])])])]),e("div",Se,[e("table",Fe,[e("thead",Ee,[e("tr",null,[je,g(P,{style:{width:"90%"},onClick:o[9]||(o[9]=t=>s(v)("sort","name")),serverQuery:s(u),serverQueryKey:"name"},{default:C(()=>[_(" Name ")]),_:1},8,["serverQuery"]),Ne])]),e("tbody",ze,[s(r).data.length<=0?(n(),i("tr",Le,Ae)):c("",!0),(n(!0),i(d,null,p(s(r).data,t=>(n(),i("tr",{key:t},[e("td",null,[e("div",Ie,[e("img",{style:{"object-fit":"cover"},src:t.icon_url,alt:"Avatar",class:"rounded-circle"},null,8,Re)])]),e("td",Ve,l(t.name),1),e("td",null,[e("div",Be,[e("a",{class:"btn btn-icon btn-label-primary waves-effect",onClick:A=>s(N)(t),href:"javascript:void(0);"},qe,8,Qe),e("a",{class:"btn btn-icon btn-label-danger waves-effect",href:"javascript:void(0);",onClick:A=>s(j)(t.id)},Oe,8,Me)])])]))),128))])])]),s(r)&&s(r).meta.links?(n(),i("div",Ue,[e("div",De,[e("div",Je,[e("div",Ke," Showing "+l(s(r).meta.from)+" to "+l(s(r).meta.to)+" of "+l(s(r).meta.total)+" entries ",1)]),e("div",We,[e("nav",Xe,[e("ul",$e,[(n(!0),i(d,null,p(s(r).meta.links,t=>(n(),i("li",{class:"page-item",key:t},[(n(),k(Q(t.url?"inertia-link":"button"),{class:y(["page-link",{active:t.active}]),href:t.url,only:["data","params"]},{default:C(()=>[e("span",{innerHTML:t.label},null,8,Ge)]),_:2},1032,["class","href"]))]))),128))])])])])])):c("",!0)])],64)}}});export{as as default};
