import{J as z,o as n,c as r,a as h,u as e,b as t,d as l,t as i,e as c,w as v,v as b,n as _,h as q,F as f,r as C,i as g,g as w,X as L,j as T}from"./app-97437a54.js";import{u as R}from"./Crud-de1f04c4.js";import{u as B}from"./Validate-964131f4.js";import{A as K}from"./AdminLayout-3cd07a2d.js";const O={class:"card card-action"},$={class:"card-header"},H=t("div",{class:"card-action-title align-items-center"},[t("h5",{class:"card-title"},"Repairs")],-1),J={class:"card-action-element"},W=t("i",{class:"ti ti-plus ti-xs me-1"},null,-1),X={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},G={class:"offcanvas-header"},Y={id:"offCanvasFormLabel",class:"offcanvas-title"},Z={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},D={class:"offcanvas-body pt-0 mx-0 flex-grow-0"},ee={class:"form-group mb-3"},te=t("label",{for:""},[l("Mechanic Name "),t("span",{class:"required"},"*")],-1),se={class:"invalid-feedback"},oe={class:"form-group mb-3"},ae=t("label",{for:""},[l("Mechanic Contact Number "),t("span",{class:"required"},"*")],-1),ne={class:"invalid-feedback"},re={class:"form-group mb-3"},ie=t("label",{for:""},[l("Mechanic Address "),t("span",{class:"required"},"*")],-1),le={class:"invalid-feedback"},de={class:"form-group mb-3"},ce=t("label",{for:""},[l("Vehicle "),t("span",{class:"required"},"*")],-1),ue={class:"invalid-feedback"},_e={class:"form-group mb-3"},me=t("label",{for:""},[l("Total Amount "),t("span",{class:"required"},"*")],-1),pe={class:"invalid-feedback"},he={class:"form-group mb-3"},ve=t("label",{for:""},"Status",-1),be={class:"invalid-feedback"},fe={class:"form-group mb-4 dropzone-profile-photo"},ge=t("label",{for:"name"},"Upload Photo",-1),ye={key:1},ke={class:"dropzone",ref:"dropzone"},Ce=t("div",{class:"dz-message needsclick"}," Please Wait ",-1),we=[Ce],xe={key:2,class:"v-invalid-feedback"},Ee=["disabled"],Ve={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},qe=["disabled"],Se={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},Ne={class:"card-body"},Ae={class:"row justify-content-between"},Qe={class:"col-auto"},je={class:"d-flex align-items-center gap-2"},Fe=t("div",{class:"w-auto"},"Show",-1),Ie={class:"flex-1"},Me=["value"],Pe=["value"],Ue=t("div",{class:"w-auto"},"entries",-1),ze={class:"col-auto"},Le={class:"d-flex gap-2 align-items-center"},Te=t("div",{class:"w-auto"},"Search:",-1),Re={class:"flex-1"},Be=["value"],Ke={class:"table-responsive text-nowrap"},Oe={class:"table"},$e={class:"table-light"},He=t("th",null,null,-1),Je=t("th",null,"Actions",-1),We={class:"table-border-bottom-0"},Xe={key:0},Ge=t("td",{colspan:"999999",class:"text-center"}," No item found ",-1),Ye=[Ge],Ze={class:"avatar avatar-lg"},De=["src"],et={style:{width:"35%"}},tt={style:{width:"20%"}},st={style:{width:"30%"}},ot={class:"d-flex gap-2"},at=["onClick"],nt=t("i",{class:"ti ti-pencil"},null,-1),rt=[nt],it=["onClick"],lt=t("i",{class:"ti ti-trash"},null,-1),dt=[lt],ct={key:0,class:"card-footer py-3 border-top"},ut={class:"row justify-content-between"},_t={class:"col-auto"},mt={class:"table_info"},pt={class:"col-auto"},ht={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},vt={class:"pagination mb-0"},bt=["innerHTML"],ft={layout:K,props:{vehicles:Object},computed:{}},wt=Object.assign(ft,{__name:"Index",setup(S){z();const N={mechanic_name:null,mechanic_contact_number:null,mechanic_address:null,vehicle_id:null,total_amount:null,status:null,image:null},{validateForm:u}=B(),A="repair";let{isLoadingComponents:Q,paginatedData:d,form:o,createPromise:x,updatePromise:E,deletePromise:j,handleCreate:V,serverQuery:m,handleServerQuery:p,handleEdit:F,formState:y}=R(N,A);return(I,a)=>{const M=w("v-select"),P=w("dropzone"),k=w("table-header");return n(),r(f,null,[h(e(L),{title:"Repairs"}),t("div",O,[t("div",$,[H,t("div",J,[t("button",{class:"btn btn-primary",type:"button",onClick:a[0]||(a[0]=(...s)=>e(V)&&e(V)(...s)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"},[W,l(" Add Repair ")]),t("div",X,[t("div",G,[t("h5",Y,i(e(y)=="create"?"Add":"Update")+" Repair ",1),e(o).processing?c("",!0):(n(),r("button",Z))]),t("div",D,[t("div",ee,[te,v(t("input",{type:"text",class:_(["form-control",{"is-invalid":e(o).errors.mechanic_name}]),"onUpdate:modelValue":a[1]||(a[1]=s=>e(o).mechanic_name=s),onInput:a[2]||(a[2]=s=>{e(o).clearErrors("mechanic_name"),e(u)(["required"],e(o),s.target.value,"mechanic_name")}),placeholder:"Enter Mechanic Name"},null,34),[[b,e(o).mechanic_name]]),t("div",se,i(e(o).errors.mechanic_name),1)]),t("div",oe,[ae,v(t("input",{type:"number",class:_(["form-control",{"is-invalid":e(o).errors.mechanic_contact_number}]),"onUpdate:modelValue":a[3]||(a[3]=s=>e(o).mechanic_contact_number=s),onInput:a[4]||(a[4]=s=>{e(o).clearErrors("mechanic_contact_number"),e(u)(["required"],e(o),s.target.value,"mechanic_contact_number")}),placeholder:"Enter Mechanic Contact Number",min:"0"},null,34),[[b,e(o).mechanic_contact_number]]),t("div",ne,i(e(o).errors.mechanic_contact_number),1)]),t("div",re,[ie,v(t("input",{type:"text",class:_(["form-control",{"is-invalid":e(o).errors.mechanic_address}]),"onUpdate:modelValue":a[5]||(a[5]=s=>e(o).mechanic_address=s),onInput:a[6]||(a[6]=s=>{e(o).clearErrors("mechanic_address"),e(u)(["required"],e(o),s.target.value,"mechanic_address")}),placeholder:"Enter Mechanic Address"},null,34),[[b,e(o).mechanic_address]]),t("div",le,i(e(o).errors.mechanic_address),1)]),t("div",de,[ce,h(M,{options:S.vehicles,modelValue:e(o).vehicle_id,"onUpdate:modelValue":a[7]||(a[7]=s=>e(o).vehicle_id=s),reduce:s=>s.id,label:"model",onInput:a[8]||(a[8]=s=>{e(o).clearErrors("vehicle_id"),e(u)(["required"],e(o),s.target.value,"vehicle_id")}),placeholder:"Select Vehicle"},null,8,["options","modelValue","reduce"]),t("div",ue,i(e(o).errors.vehicle_id),1)]),t("div",_e,[me,v(t("input",{type:"number",class:_(["form-control",{"is-invalid":e(o).errors.total_amount}]),"onUpdate:modelValue":a[9]||(a[9]=s=>e(o).total_amount=s),onInput:a[10]||(a[10]=s=>{e(o).clearErrors("total_amount"),e(u)(["required"],e(o),s.target.value,"total_amount")}),placeholder:"Enter Total Amount"},null,34),[[b,e(o).total_amount]]),t("div",pe,i(e(o).errors.total_amount),1)]),t("div",he,[ve,v(t("input",{type:"text",class:_(["form-control",{"is-invalid":e(o).errors.status}]),"onUpdate:modelValue":a[11]||(a[11]=s=>e(o).status=s),onInput:a[12]||(a[12]=s=>{e(o).clearErrors("status"),e(u)(["required"],e(o),s.target.value,"status")}),placeholder:"Enter Status"},null,34),[[b,e(o).status]]),t("div",be,i(e(o).errors.status),1)]),t("div",fe,[ge,e(Q)?(n(),q(P,{key:0,collection:"image",url:I.route("api.media.upload"),type:"profile",model:"Repair\\Repair",value:e(o).image,onInput:a[13]||(a[13]=s=>{e(o).image=s,e(o).clearErrors("image")}),message:"Drop files here or click to upload profile photo",acceptedFiles:"image/jpeg,image/png",onError:a[14]||(a[14]=s=>{s&&s[0]&&e(o).setError("image",s[0])})},null,8,["url","value"])):(n(),r("div",ye,[t("div",ke,we,512)])),e(o).errors.image?(n(),r("div",xe,i(e(o).errors.image),1)):c("",!0)]),e(y)=="create"?(n(),r("button",{key:0,class:"btn btn-primary",onClick:a[15]||(a[15]=(...s)=>e(x)&&e(x)(...s)),disabled:e(o).processing||e(o).hasErrors},[e(o).processing?(n(),r("span",Ve)):c("",!0),l(" Save ")],8,Ee)):c("",!0),e(y)=="update"?(n(),r("button",{key:1,class:"btn btn-primary",onClick:a[16]||(a[16]=(...s)=>e(E)&&e(E)(...s)),disabled:e(o).processing||e(o).hasErrors},[e(o).processing?(n(),r("span",Se)):c("",!0),l(" Save changes ")],8,qe)):c("",!0)])])])]),t("div",Ne,[t("div",Ae,[t("div",Qe,[t("div",je,[Fe,t("div",Ie,[t("select",{class:"form-select",value:e(m).perPage,onInput:a[17]||(a[17]=s=>e(p)("perPage",s.target.value))},[(n(),r(f,null,C([5,10,25,50,100],s=>t("option",{value:String(s),key:s},i(s),9,Pe)),64))],40,Me)]),Ue])]),t("div",ze,[t("div",Le,[Te,t("div",Re,[t("input",{type:"search",placeholder:"Search",class:"form-control",value:e(m).query,onInput:a[18]||(a[18]=s=>e(p)("query",s.target.value))},null,40,Be)])])])])]),t("div",Ke,[t("table",Oe,[t("thead",$e,[t("tr",null,[He,h(k,{style:{width:"35%"},onClick:a[19]||(a[19]=s=>e(p)("sort","mechanic_name")),serverQuery:e(m),serverQueryKey:"mechanic_name"},{default:g(()=>[l(" Mechanic Name ")]),_:1},8,["serverQuery"]),h(k,{style:{width:"20%"},onClick:a[20]||(a[20]=s=>e(p)("sort","mechanic_contact_number")),serverQuery:e(m),serverQueryKey:"mechanic_contact_number"},{default:g(()=>[l(" Contact Number ")]),_:1},8,["serverQuery"]),h(k,{style:{width:"20%"},onClick:a[21]||(a[21]=s=>e(p)("sort","mechanic_address")),serverQuery:e(m),serverQueryKey:"mechanic_address"},{default:g(()=>[l(" Address ")]),_:1},8,["serverQuery"]),Je])]),t("tbody",We,[e(d).data.length<=0?(n(),r("tr",Xe,Ye)):c("",!0),(n(!0),r(f,null,C(e(d).data,s=>(n(),r("tr",{key:s},[t("td",null,[t("div",Ze,[t("img",{style:{"object-fit":"cover"},src:s.images_url,alt:"Avatar",class:"rounded-circle"},null,8,De)])]),t("td",et,i(s.mechanic_name),1),t("td",tt,i(s.mechanic_contact_number),1),t("td",st,i(s.mechanic_address),1),t("td",null,[t("div",ot,[t("a",{class:"btn btn-icon btn-label-primary waves-effect",onClick:U=>e(F)(s),href:"javascript:void(0);"},rt,8,at),t("a",{class:"btn btn-icon btn-label-danger waves-effect",href:"javascript:void(0);",onClick:U=>e(j)(s.id)},dt,8,it)])])]))),128))])])]),e(d)&&e(d).meta.links?(n(),r("div",ct,[t("div",ut,[t("div",_t,[t("div",mt," Showing "+i(e(d).meta.from)+" to "+i(e(d).meta.to)+" of "+i(e(d).meta.total)+" entries ",1)]),t("div",pt,[t("nav",ht,[t("ul",vt,[(n(!0),r(f,null,C(e(d).meta.links,s=>(n(),r("li",{class:"page-item",key:s},[(n(),q(T(s.url?"inertia-link":"button"),{class:_(["page-link",{active:s.active}]),href:s.url,only:["data","params"]},{default:g(()=>[t("span",{innerHTML:s.label},null,8,bt)]),_:2},1032,["class","href"]))]))),128))])])])])])):c("",!0)])],64)}}});export{wt as default};
