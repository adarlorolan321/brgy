import{J as O,o as i,a as n,b as h,u as s,d as e,e as r,t as l,f as m,n as c,w as u,v as _,s as I,g as S,F as f,h as b,j,X as T,k as A,l as G,q as H}from"./app-d281921d.js";import{u as Q}from"./Crud-3a5f3484.js";import{u as J}from"./Validate-1fc95a59.js";import{A as W}from"./AdminLayout-c8a30dbb.js";import"./toastr-d4d34a3c.js";const X={class:"card card-action custom-container-card"},$={class:"card-header"},K=e("div",{class:"card-action-title align-items-center"},[e("h5",{class:"card-title"},"Rescuer")],-1),Y={class:"card-action-element"},Z=e("i",{class:"ti ti-plus ti-xs me-1"},null,-1),ee={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},se={class:"offcanvas-header"},te={id:"offCanvasFormLabel",class:"offcanvas-title"},oe={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},ae={class:"offcanvas-body mx-0 flex-grow-0 pt-0"},le={class:"form-group mb-3"},ie=e("label",{for:""},[r("Rescuer Type "),e("span",{class:"required"},"*")],-1),re={class:"invalid-feedback"},ne={class:"form-group mb-3"},de=e("label",{for:""},[r("Rescuer Name "),e("span",{class:"required"},"*")],-1),ce={class:"invalid-feedback"},ue={class:"form-group mb-3"},me=e("label",{for:""},[r("Rescuer Contact Number "),e("span",{class:"required"},"*")],-1),_e={class:"invalid-feedback"},pe={class:"form-group mb-3"},ve=e("label",{for:""},[r("Rescuer Contact Number Status "),e("span",{class:"required"},"*")],-1),fe={class:"d-flex gap-3"},he={class:"form-check mt-3"},be=e("label",{class:"form-check-label",for:"defaultRadio1"}," Verified ",-1),ge={class:"form-check mt-3"},ye=e("label",{class:"form-check-label",for:"defaultRadio2"},"Unverified ",-1),ke={class:"invalid-feedback"},xe={class:"form-group mb-3"},we=e("label",{for:""},[r("Rescuer Email "),e("span",{class:"required"},"*")],-1),Ce={class:"invalid-feedback"},Ee={class:"form-group mb-3"},qe=e("label",{for:""},[r("Rescuer Messenger Link "),e("span",{class:"required"},"*")],-1),Ve={class:"invalid-feedback"},Re={class:"form-group mb-4 dropzone-profile-photo"},Ie=e("label",{for:"name"},"Upload Photo",-1),Se={key:1},je={class:"dropzone",ref:"dropzone"},Ue=e("div",{class:"dz-message needsclick"}," Please Wait ",-1),Le=[Ue],Pe={key:2,class:"v-invalid-feedback"},Fe={class:"form-group mb-3"},Ne=e("label",{for:""},[r("Rescue Services "),e("span",{class:"required"},"*")],-1),Me={class:"invalid-feedback"},ze={class:"form-group mb-3"},Be=e("label",{for:""},[r("Latitude "),e("span",{class:"required"},"*")],-1),De={class:"invalid-feedback"},Oe={class:"form-group mb-3"},Te=e("label",{for:""},[r("Longtitude "),e("span",{class:"required"},"*")],-1),Ae={class:"invalid-feedback"},Ge={class:"form-group mb-3"},He=e("label",{for:""},[r("Gender "),e("span",{class:"required"},"*")],-1),Qe={class:"invalid-feedback"},Je={class:"form-group mb-3"},We=e("label",{for:""},[r("Select Province "),e("span",{class:"required"},"*")],-1),Xe={class:"invalid-feedback"},$e={class:"form-group mb-3"},Ke=e("label",{for:""},[r("Select City "),e("span",{class:"required"},"*")],-1),Ye={class:"invalid-feedback"},Ze=["disabled"],es={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},ss=["disabled"],ts={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},os={class:"card-body"},as={class:"row justify-content-between"},ls={class:"col-3 pr-0"},is={class:"d-flex align-items-center gap-2"},rs=e("div",{class:"w-auto"},"Show",-1),ns={class:"flex-1"},ds=["value"],cs=["value"],us=e("div",{class:"w-auto"},"entries",-1),ms={class:"col-auto"},_s={class:"d-flex gap-2 align-items-center"},ps=e("div",{class:"w-auto"},"Search:",-1),vs={class:"flex-1"},fs=["value"],hs={class:"row"},bs={class:"card custom-card__hero"},gs=e("div",{class:"user-profile-header-banner"},[e("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d124202.94479554158!2d121.12289103286562!3d13.391135706669152!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33bce8d27f6f844d%3A0xf7cc1b1c943ab71b!2sCalapan%2C%20Oriental%20Mindoro!5e0!3m2!1sen!2sph!4v1681094441544!5m2!1sen!2sph",width:"100%",height:"250",style:{border:"0","border-top-left-radius":"5px","border-top-right-radius":"5px"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})],-1),ys={class:"card-body text-center"},ks={class:"dropdown btn-pinned"},xs=e("button",{type:"button",class:"btn dropdown-toggle hide-arrow p-0","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"ti ti-dots-vertical text-muted"})],-1),ws={class:"dropdown-menu dropdown-menu-end"},Cs=e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Share connection")],-1),Es=e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Block connection")],-1),qs=e("li",null,[e("hr",{class:"dropdown-divider"})],-1),Vs=["onClick"],Rs={class:"flex-shrink-0 mt-n2 mx-sm-0 mx-auto hero-container"},Is=["src"],Ss={class:"mb-1 card-title card-text"},js=e("h6",{class:"mb-0 card-text small-text",style:{"font-weight":"400"}},[e("a",{href:"https://www.google.com/maps/",target:"_blank"},"Open in Maps")],-1),Us={class:"mb-0 card-text small-text",style:{"font-weight":"400"}},Ls={class:"mb-0 card-text small-text",style:{"font-weight":"400"}},Ps={class:"mb-0 card-text small-text"},Fs={class:"mb-0 card-text small-text"},Ns=e("b",null," Latitude: ",-1),Ms={class:"mb-0 card-text small-text"},zs=e("b",null,"Longitude:",-1),Bs=e("div",{class:"d-flex align-items-center justify-content-center my-3 gap-2"},null,-1),Ds={class:"d-flex align-items-center justify-content-center"},Os=["onClick"],Ts=e("i",{class:"ti-xs me-1 ti ti-truck me-1"},null,-1),As=["href"],Gs=e("i",{class:"ti ti-mail ti-sm"},null,-1),Hs=[Gs],Qs={class:"row d-flex justify-content-center"},Js={key:0,class:"col-md-11 card custom-card__hero"},Ws=e("div",{class:"card-body text-left"},[e("h5",{class:"text-center mb-0"},"No item found.")],-1),Xs=[Ws],$s={key:0,class:"card-footer py-3"},Ks={class:"row justify-content-between"},Ys={class:"col-auto"},Zs={class:"table_info"},et={class:"col-auto"},st={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},tt={class:"pagination mb-0"},ot=["innerHTML"],at={props:{data:Object,services:Object,provinces:Object},layout:W,data(){return{happy:null,filteredCities:[]}},watch:{happy(){this.happy?this.filteredCities=this.happy.cities:this.filteredCities=[]}},methods:{getCities(){form.city=null;const v=this.happy.id,g=this.provinces.find(d=>d.id===v);this.filteredCities=g.cities}}},ct=Object.assign(at,{__name:"Index",setup(v){O();const g={type:null,name:null,contact_number:null,is_contact_number_verified:0,email:null,messenger_link:null,latitude:null,longitude:null,province:null,city:null,gender:null,image:null,services:[]},{validateForm:d}=J(),U="rescuers";let{isLoadingComponents:L,paginatedData:p,form:o,createPromise:w,updatePromise:C,deletePromise:P,handleCreate:E,serverQuery:q,handleServerQuery:V,handleEdit:F,formState:y}=Q(g,U);const N=[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Prefer not to say",value:"prefer_not_to_say"}],M=[{name:"Business",value:"Business"},{name:"Individual",value:"Individual"}];return(z,a)=>{const k=j("v-select"),B=j("dropzone"),R=H("select");return i(),n(f,null,[h(s(T),{title:"Rescuer"}),e("div",X,[e("div",$,[K,e("div",Y,[e("button",{class:"btn btn-primary",type:"button",onClick:a[0]||(a[0]=(...t)=>s(E)&&s(E)(...t)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"},[Z,r(" Add Rescuer ")]),e("div",ee,[e("div",se,[e("h5",te,l(s(y)=="create"?"Add":"Update")+" Rescuer ",1),s(o).processing?m("",!0):(i(),n("button",oe))]),e("div",ae,[e("div",le,[ie,h(k,{options:M,modelValue:s(o).type,"onUpdate:modelValue":[a[1]||(a[1]=t=>s(o).type=t),a[2]||(a[2]=t=>s(o).clearErrors("type"))],reduce:t=>t.value,label:"name",class:c({"is-invalid":s(o).errors.type}),placeholder:"Select Rescuer Type"},null,8,["modelValue","reduce","class"]),e("div",re,l(s(o).errors.type),1)]),e("div",ne,[de,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.name}]),"onUpdate:modelValue":a[3]||(a[3]=t=>s(o).name=t),onInput:a[4]||(a[4]=t=>{s(o).clearErrors("name"),s(d)(["required"],s(o),t.target.value,"name")}),placeholder:"Enter First Name"},null,34),[[_,s(o).name]]),e("div",ce,l(s(o).errors.name),1)]),e("div",ue,[me,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.contact_number}]),"onUpdate:modelValue":a[5]||(a[5]=t=>s(o).contact_number=t),onInput:a[6]||(a[6]=t=>{s(o).clearErrors("contact_number"),s(d)(["required"],s(o),t.target.value,"contact_number")}),placeholder:"Enter Rescuer Contact Number"},null,34),[[_,s(o).contact_number]]),e("div",_e,l(s(o).errors.contact_number),1)]),e("div",pe,[ve,e("div",fe,[e("div",he,[u(e("input",{name:"default-radio-1",class:"form-check-input",type:"radio",value:1,id:"defaultRadio1","onUpdate:modelValue":a[7]||(a[7]=t=>s(o).is_contact_number_verified=t)},null,512),[[I,s(o).is_contact_number_verified]]),be]),e("div",ge,[u(e("input",{name:"default-radio-1",class:"form-check-input",type:"radio",value:0,id:"defaultRadio2","onUpdate:modelValue":a[8]||(a[8]=t=>s(o).is_contact_number_verified=t),checked:""},null,512),[[I,s(o).is_contact_number_verified]]),ye])]),e("div",ke,l(s(o).errors.is_contact_number_verified),1)]),e("div",xe,[we,u(e("input",{type:"email",class:c(["form-control",{"is-invalid":s(o).errors.email}]),"onUpdate:modelValue":a[9]||(a[9]=t=>s(o).email=t),onInput:a[10]||(a[10]=t=>{s(o).clearErrors("email"),s(d)(["required"],s(o),t.target.value,"email")}),placeholder:"Enter Email"},null,34),[[_,s(o).email]]),e("div",Ce,l(s(o).errors.email),1)]),e("div",Ee,[qe,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.messenger_link}]),"onUpdate:modelValue":a[11]||(a[11]=t=>s(o).messenger_link=t),onInput:a[12]||(a[12]=t=>{s(o).clearErrors("messenger_link"),s(d)(["required"],s(o),t.target.value,"messenger_link")}),placeholder:"Enter Messenger Link"},null,34),[[_,s(o).messenger_link]]),e("div",Ve,l(s(o).errors.messenger_link),1)]),e("div",Re,[Ie,s(L)?(i(),S(B,{key:0,collection:"image",url:z.route("api.media.upload"),type:"profile",model:"Rescue\\Rescuer",value:s(o).image,onInput:a[13]||(a[13]=t=>{s(o).image=t,s(o).clearErrors("image")}),message:"Drop files here or click to upload profile photo",acceptedFiles:"image/jpeg,image/png",onError:a[14]||(a[14]=t=>{t&&t[0]&&s(o).setError("image",t[0])})},null,8,["url","value"])):(i(),n("div",Se,[e("div",je,Le,512)])),s(o).errors.image?(i(),n("div",Pe,l(s(o).errors.image),1)):m("",!0)]),e("div",Fe,[Ne,u(h(k,{options:v.services,modelValue:s(o).services,"onUpdate:modelValue":a[15]||(a[15]=t=>s(o).services=t),reduce:t=>t.id,label:"name",multiple:"",onInput:a[16]||(a[16]=t=>{s(o).clearErrors("services"),s(d)(["required"],s(o),t.target.value,"services")}),placeholder:"Select Services",class:c(["custom-dropdown",{"is-invalid":s(o).errors.services}])},null,8,["options","modelValue","reduce","class"]),[[R]]),e("div",Me,[(i(!0),n(f,null,b(s(o).errors.services,(t,x)=>(i(),n("span",{key:x},l(t),1))),128))])]),e("div",ze,[Be,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.latitude}]),"onUpdate:modelValue":a[17]||(a[17]=t=>s(o).latitude=t),onInput:a[18]||(a[18]=t=>{s(o).clearErrors("latitude"),s(d)(["required"],s(o),t.target.value,"latitude")}),placeholder:"Enter Latitude"},null,34),[[_,s(o).latitude]]),e("div",De,l(s(o).errors.latitude),1)]),e("div",Oe,[Te,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.longitude}]),"onUpdate:modelValue":a[19]||(a[19]=t=>s(o).longitude=t),onInput:a[20]||(a[20]=t=>{s(o).clearErrors("longitude"),s(d)(["required"],s(o),t.target.value,"longitude")}),placeholder:"Enter Longitude"},null,34),[[_,s(o).longitude]]),e("div",Ae,l(s(o).errors.longitude),1)]),e("div",Ge,[He,u(h(k,{options:N,modelValue:s(o).gender,"onUpdate:modelValue":a[21]||(a[21]=t=>s(o).gender=t),reduce:t=>t.value,label:"name",onInput:a[22]||(a[22]=t=>{s(o).clearErrors("gender"),s(d)(["required"],s(o),t.target.value,"gender")}),class:c({"is-invalid":s(o).errors.gender}),placeholder:"Select Gender"},null,8,["modelValue","reduce","class"]),[[R]]),e("div",Qe,l(s(o).errors.gender),1)]),e("div",Je,[We,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.province}]),"onUpdate:modelValue":a[23]||(a[23]=t=>s(o).province=t),onInput:a[24]||(a[24]=t=>{s(o).clearErrors("province"),s(d)(["required"],s(o),t.target.value,"province")}),placeholder:"Enter Province"},null,34),[[_,s(o).province]]),e("div",Xe,l(s(o).errors.province),1)]),e("div",$e,[Ke,u(e("input",{type:"text",class:c(["form-control",{"is-invalid":s(o).errors.city}]),"onUpdate:modelValue":a[25]||(a[25]=t=>s(o).city=t),onInput:a[26]||(a[26]=t=>{s(o).clearErrors("city"),s(d)(["required"],s(o),t.target.value,"city")}),placeholder:"Enter City"},null,34),[[_,s(o).city]]),e("div",Ye,l(s(o).errors.city),1)]),s(y)=="create"?(i(),n("button",{key:0,class:"btn btn-primary",onClick:a[27]||(a[27]=(...t)=>s(w)&&s(w)(...t)),disabled:s(o).processing},[s(o).processing?(i(),n("span",es)):m("",!0),r(" Save ")],8,Ze)):m("",!0),s(y)=="update"?(i(),n("button",{key:1,class:"btn btn-primary",onClick:a[28]||(a[28]=(...t)=>s(C)&&s(C)(...t)),disabled:s(o).processing},[s(o).processing?(i(),n("span",ts)):m("",!0),r(" Save changes ")],8,ss)):m("",!0)])])])]),e("div",os,[e("div",as,[e("div",ls,[e("div",is,[rs,e("div",ns,[e("select",{class:"form-select",value:s(q).perPage,onInput:a[29]||(a[29]=t=>s(V)("perPage",t.target.value))},[(i(),n(f,null,b([5,10,25,50,100],t=>e("option",{value:String(t),key:t},l(t),9,cs)),64))],40,ds)]),us])]),e("div",ms,[e("div",_s,[ps,e("div",vs,[e("input",{type:"search",placeholder:"Search",class:"form-control",value:s(q).query,onInput:a[30]||(a[30]=t=>s(V)("query",t.target.value))},null,40,fs)])])])])]),e("div",hs,[(i(!0),n(f,null,b(v.data.data,(t,x)=>(i(),n("div",{class:"col-xl-4 col-lg-4 col-md-4 col-12",key:x},[e("div",bs,[gs,e("div",ys,[e("div",ks,[xs,e("ul",ws,[Cs,Es,qs,e("li",null,[e("a",{class:"dropdown-item text-danger",href:"javascript:void(0);",onClick:D=>s(P)(t.id)},"Delete",8,Vs)])])]),e("div",Rs,[e("img",{src:t.image_url,alt:"Avatar Image",class:"d-block ms-0 rounded-circle user-profile-img hero-profile"},null,8,Is)]),e("h4",Ss,l(t.name),1),js,e("h6",Us,l(t.type),1),e("h6",Ls,l(t.contact_number),1),e("h6",Ps,l(t.email),1),e("h6",Fs,[Ns,r(" "+l(t.latitude),1)]),e("h6",Ms,[zs,r(" "+l(t.longitude),1)]),Bs,e("div",Ds,[e("a",{href:"javascript:;",class:"btn btn-primary d-flex align-items-center me-3",onClick:D=>s(F)(t)},[Ts,r("Edit Rescuer")],8,Os),e("a",{href:t.messenger_link,target:"_blank",class:"btn btn-label-secondary btn-icon"},Hs,8,As)])])])]))),128)),e("div",Qs,[v.data?m("",!0):(i(),n("div",Js,Xs))])]),s(p)&&s(p).meta.links?(i(),n("div",$s,[e("div",Ks,[e("div",Ys,[e("div",Zs," Showing "+l(s(p).meta.from)+" to "+l(s(p).meta.to)+" of "+l(s(p).meta.total)+" entries ",1)]),e("div",et,[e("nav",st,[e("ul",tt,[(i(!0),n(f,null,b(s(p).meta.links,t=>(i(),n("li",{class:"page-item",key:t},[(i(),S(G(t.url?"inertia-link":"button"),{class:c(["page-link",{active:t.active}]),href:t.url,only:["data","params"]},{default:A(()=>[e("span",{innerHTML:t.label},null,8,ot)]),_:2},1032,["class","href"]))]))),128))])])])])])):m("",!0)])],64)}}});export{ct as default};
