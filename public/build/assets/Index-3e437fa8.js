import{J as A,o as l,c as i,a as p,u as s,b as e,d as r,t as d,e as c,w as v,v as j,n as w,h as E,F as h,r as x,f as D,g as F,X as L,i as N,j as U,k as O}from"./app-93085c7e.js";import{u as R}from"./Crud-7d092ca5.js";import{u as M}from"./Validate-319d97c1.js";import{A as B}from"./AdminLayout-831b05b4.js";const T="/build/assets/4-a9a3f60d.png";const G={class:"card card-action custom-container-card"},H={class:"card-header"},J=e("div",{class:"card-action-title align-items-center"},[e("h5",{class:"card-title"},"Rescuer")],-1),Q={class:"card-action-element"},K=e("i",{class:"ti ti-plus ti-xs me-1"},null,-1),W={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},X={class:"offcanvas-header"},Y={id:"offCanvasFormLabel",class:"offcanvas-title"},Z={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},$={class:"offcanvas-body mx-0 flex-grow-0 pt-0"},ee={class:"form-group mb-3"},se=e("label",{for:""},[r("Email "),e("span",{class:"required"},"*")],-1),te={class:"invalid-feedback"},oe={class:"form-group mb-3"},ae=e("label",{for:""},[r("Name "),e("span",{class:"required"},"*")],-1),le={class:"invalid-feedback"},ie={class:"form-group mb-4 dropzone-profile-photo"},re=e("label",{for:"name"},"Upload Photo",-1),ne={key:1},de={class:"dropzone",ref:"dropzone"},ce=e("div",{class:"dz-message needsclick"}," Please Wait ",-1),me=[ce],ue={key:2,class:"v-invalid-feedback"},pe={class:"form-group mb-3"},ve=e("label",{for:""},[r("Gender "),e("span",{class:"required"},"*")],-1),fe={class:"form-group mb-3"},_e=e("label",{for:""},[r("Select Province "),e("span",{class:"required"},"*")],-1),he={class:"form-group mb-3"},be=e("label",{for:""},[r("Select City "),e("span",{class:"required"},"*")],-1),ge={class:"form-group mb-3"},ye=e("label",{for:""},[r("Service "),e("span",{class:"required"},"*")],-1),we=["disabled"],xe={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},Ce=["disabled"],ke={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},Pe={class:"card-body"},Se={class:"row justify-content-between"},Ve={class:"col-3 pr-0"},je={class:"d-flex align-items-center gap-2"},Ee=e("div",{class:"w-auto"},"Show",-1),Fe={class:"flex-1"},qe=["value"],Ie=["value"],ze=e("div",{class:"w-auto"},"entries",-1),Ae=D('<div class="col-5 pl-0"><div class="d-flex gap-2 align-items-center"><div class="w-auto">Filter by Address:</div><div class="form-group" style="width:65%;"><select class="form-select" id="basic-default-country" required><option value="" hidden>Select Address</option><option value="usa">Private</option><option value="uk">Public</option></select></div></div></div>',1),De={class:"col-auto"},Le={class:"d-flex gap-2 align-items-center"},Ne=e("div",{class:"w-auto"},"Search:",-1),Ue={class:"flex-1"},Oe=["value"],Re={class:"row"},Me=e("div",{class:"card custom-card__hero"},[e("div",{class:"user-profile-header-banner"},[e("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d124202.94479554158!2d121.12289103286562!3d13.391135706669152!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33bce8d27f6f844d%3A0xf7cc1b1c943ab71b!2sCalapan%2C%20Oriental%20Mindoro!5e0!3m2!1sen!2sph!4v1681094441544!5m2!1sen!2sph",width:"100%",height:"250",style:{border:"0","border-top-left-radius":"5px","border-top-right-radius":"5px"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})]),e("div",{class:"card-body text-center"},[e("div",{class:"dropdown btn-pinned"},[e("button",{type:"button",class:"btn dropdown-toggle hide-arrow p-0","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"ti ti-dots-vertical text-muted"})]),e("ul",{class:"dropdown-menu dropdown-menu-end"},[e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Share connection")]),e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0);"},"Block connection")]),e("li",null,[e("hr",{class:"dropdown-divider"})]),e("li",null,[e("a",{class:"dropdown-item text-danger",href:"javascript:void(0);"},"Delete")])])]),e("div",{class:"flex-shrink-0 mt-n2 mx-sm-0 mx-auto hero-container"},[e("img",{src:T,alt:"Avatar Image",class:"d-block ms-0 rounded-circle user-profile-img hero-profile"})]),e("h4",{class:"mb-1 card-title card-text"},"Jane Doe"),e("h6",{class:"mb-0 card-text small-text",style:{"font-weight":"400"}},[e("a",{href:"https://www.google.com/maps/",target:"_blank"},"Open in Maps")]),e("h6",{class:"mb-0 card-text small-text",style:{"font-weight":"400"}},"London UK"),e("h6",{class:"mb-0 card-text small-text",style:{"font-weight":"400"}},"email@email.com"),e("h6",{class:"pb-1 card-text small-text"},"+63999132312312"),e("div",{class:"d-flex align-items-center justify-content-center my-3 gap-2"}),e("div",{class:"d-flex align-items-center justify-content-center"},[e("a",{href:"javascript:;",class:"btn btn-primary d-flex align-items-center me-3"},[e("i",{class:"ti-xs me-1 ti ti-truck me-1"}),r("Edit Rescuer")]),e("a",{href:"javascript:;",class:"btn btn-label-secondary btn-icon"},[e("i",{class:"ti ti-mail ti-sm"})])])])],-1),Be=[Me],Te={key:0,class:"card-footer py-3"},Ge={class:"row justify-content-between"},He={class:"col-auto"},Je={class:"table_info"},Qe={class:"col-auto"},Ke={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},We={class:"pagination mb-0"},Xe=["innerHTML"],Ye={props:{data:Object,services:Object,provinces:Object},layout:B,data(){return{selectedProvince:null,filteredCities:[]}},watch:{selectedProvince(){this.selectedProvince?this.filteredCities=this.selectedProvince.cities:this.filteredCities=[]}},methods:{getCities(){this.selectedCity=null;const f=this.selectedProvince.id,b=this.provinces.find(u=>u.id===f);this.filteredCities=b.cities}}},as=Object.assign(Ye,{__name:"Index",setup(f){A();const b={email:null,first_name:null,middle_name:null,last_name:null,gender:null,province:null,city:null,service:[]},{validateForm:u}=M(),q="rescuers";let{paginatedData:m,form:a,createPromise:C,updatePromise:k,deletePromise:Ze,handleCreate:P,serverQuery:S,handleServerQuery:V,handleEdit:$e,formState:g}=R(b,q);const I=[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Prefer not to say",value:"prefer_not_to_say"}];return(n,o)=>{const z=F("dropzone"),_=F("v-select"),y=O("select");return l(),i(h,null,[p(s(L),{title:"Rescuer"}),e("div",G,[e("div",H,[J,e("div",Q,[e("button",{class:"btn btn-primary",type:"button",onClick:o[0]||(o[0]=(...t)=>s(P)&&s(P)(...t)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"},[K,r(" Add Rescuer ")]),e("div",W,[e("div",X,[e("h5",Y,d(s(g)=="create"?"Add":"Update")+" Rescuer ",1),s(a).processing?c("",!0):(l(),i("button",Z))]),e("div",$,[e("div",ee,[se,v(e("input",{type:"email",class:w(["form-control",{"is-invalid":s(a).errors.email}]),"onUpdate:modelValue":o[1]||(o[1]=t=>s(a).name=t),onInput:o[2]||(o[2]=t=>{s(a).clearErrors("email"),s(u)(["required"],s(a),t.target.value,"email")}),placeholder:"Enter Email"},null,34),[[j,s(a).name]]),e("div",te,d(s(a).errors.email),1)]),e("div",oe,[ae,v(e("input",{type:"text",class:w(["form-control",{"is-invalid":s(a).errors.name}]),"onUpdate:modelValue":o[3]||(o[3]=t=>s(a).name=t),onInput:o[4]||(o[4]=t=>{s(a).clearErrors("name"),s(u)(["required"],s(a),t.target.value,"name")}),placeholder:"Enter First Name"},null,34),[[j,s(a).name]]),e("div",le,d(s(a).errors.name),1)]),e("div",ie,[re,n.isLoadingComponents?(l(),E(z,{key:0,collection:"image",url:n.route("api.media.upload"),type:"profile",model:"Rescue\\RescueService",value:s(a).image,onInput:o[5]||(o[5]=t=>{s(a).image=t,s(a).clearErrors("image")}),message:"Drop files here or click to upload profile photo",acceptedFiles:"image/jpeg,image/png",onError:o[6]||(o[6]=t=>{t&&t[0]&&s(a).setError("image",t[0])})},null,8,["url","value"])):(l(),i("div",ne,[e("div",de,me,512)])),s(a).errors.image?(l(),i("div",ue,d(s(a).errors.image),1)):c("",!0)]),e("div",pe,[ve,v(p(_,{options:I,label:"name",placeholder:"Select Gender"},null,512),[[y]])]),e("div",fe,[_e,v(p(_,{options:f.provinces,modelValue:n.selectedProvince,"onUpdate:modelValue":o[7]||(o[7]=t=>n.selectedProvince=t),label:"name",onChange:o[8]||(o[8]=t=>n.getCities()),placeholder:"Select Province"},null,8,["options","modelValue"]),[[y]])]),e("div",he,[be,p(_,{options:n.filteredCities,label:"name",modelValue:n.selectedCity,"onUpdate:modelValue":o[9]||(o[9]=t=>n.selectedCity=t),placeholder:"Select City"},null,8,["options","modelValue"])]),e("div",ge,[ye,v(p(_,{options:f.services,modelValue:s(a).service,"onUpdate:modelValue":o[10]||(o[10]=t=>s(a).service=t),label:"name",multiple:"",onInput:o[11]||(o[11]=t=>{s(a).clearErrors("service"),s(u)(["required"],s(a),t.target.value,"service")}),placeholder:"Select Service"},null,8,["options","modelValue"]),[[y]])]),s(g)=="create"?(l(),i("button",{key:0,class:"btn btn-primary",onClick:o[12]||(o[12]=(...t)=>s(C)&&s(C)(...t)),disabled:s(a).processing||s(a).hasErrors},[s(a).processing?(l(),i("span",xe)):c("",!0),r(" Submit ")],8,we)):c("",!0),s(g)=="update"?(l(),i("button",{key:1,class:"btn btn-primary",onClick:o[13]||(o[13]=(...t)=>s(k)&&s(k)(...t)),disabled:s(a).processing||s(a).hasErrors},[s(a).processing?(l(),i("span",ke)):c("",!0),r(" Submit changes ")],8,Ce)):c("",!0)])])])]),e("div",Pe,[e("div",Se,[e("div",Ve,[e("div",je,[Ee,e("div",Fe,[e("select",{class:"form-select",value:s(S).perPage,onInput:o[14]||(o[14]=t=>s(V)("perPage",t.target.value))},[(l(),i(h,null,x([5,10,25,50,100],t=>e("option",{value:String(t),key:t},d(t),9,Ie)),64))],40,qe)]),ze])]),Ae,e("div",De,[e("div",Le,[Ne,e("div",Ue,[e("input",{type:"search",placeholder:"Search",class:"form-control",value:s(S).query,onInput:o[15]||(o[15]=t=>s(V)("query",t.target.value))},null,40,Oe)])])])])]),e("div",Re,[(l(),i(h,null,x(3,t=>e("div",{class:"col-xl-4 col-lg-4 col-md-4 col-12",key:t},Be)),64))]),s(m)&&s(m).meta.links?(l(),i("div",Te,[e("div",Ge,[e("div",He,[e("div",Je," Showing "+d(s(m).meta.from)+" to "+d(s(m).meta.to)+" of "+d(s(m).meta.total)+" entries ",1)]),e("div",Qe,[e("nav",Ke,[e("ul",We,[(l(!0),i(h,null,x(s(m).meta.links,t=>(l(),i("li",{class:"page-item",key:t},[(l(),E(U(t.url?"inertia-link":"button"),{class:w(["page-link",{active:t.active}]),href:t.url,only:["data","params"]},{default:N(()=>[e("span",{innerHTML:t.label},null,8,Xe)]),_:2},1032,["class","href"]))]))),128))])])])])])):c("",!0)])],64)}}});export{as as default};
